import{a as _,j as M}from"./jsx-runtime-86dfebf6.js";import{r as I}from"./index-1b03fe98.js";import{D as W,u as me,k as pe,e as Y,G as ge,b as he,h as we}from"./schemes-56affe43.js";import{g as ve}from"./helper-26bacd48.js";import{C as O}from"./rdk-0beed5d4.js";import{A as be,E as Ve}from"./RadialAxis-6c2bc59c.js";import{p as Me}from"./RadialValueMarker-7b3f8322.js";import{u as qe}from"./useHoverIntent-9f4f4ce5.js";import{c as re}from"./chroma-699b8ba0.js";import"./DiscreteLegendEntry-49610185.js";import"./SequentialLegend-1647127f.js";import{g as Se}from"./range-163cdb4a.js";import"./index-256d607f.js";import"./Count-a38a1947.js";import{g as Ae}from"./utils-83ce1bd4.js";import{i as Ie}from"./invert-4b58fa06.js";import{i as ne}from"./index-9494de61.js";function ke(e,s,r,t){t=t||{};var n=t.maxIterations||100,a=t.tolerance||1e-10,i=e(s),o=e(r),f=r-s;if(i*o>0)throw"Initial bisect points must have opposite signs";if(i===0)return s;if(o===0)return r;for(var c=0;c<n;++c){f/=2;var l=s+f,u=e(l);if(u*i>=0&&(s=l),Math.abs(f)<a||u===0)return l}return s+f}function U(e){for(var s=new Array(e),r=0;r<e;++r)s[r]=0;return s}function ae(e,s){return U(e).map(function(){return U(s)})}function j(e,s){for(var r=0,t=0;t<e.length;++t)r+=e[t]*s[t];return r}function K(e){return Math.sqrt(j(e,e))}function Z(e,s,r){for(var t=0;t<s.length;++t)e[t]=s[t]*r}function C(e,s,r,t,n){for(var a=0;a<e.length;++a)e[a]=s*r[a]+t*n[a]}function le(e,s,r){r=r||{};var t=r.maxIterations||s.length*200,n=r.nonZeroDelta||1.05,a=r.zeroDelta||.001,i=r.minErrorDelta||1e-6,o=r.minErrorDelta||1e-5,f=r.rho!==void 0?r.rho:1,c=r.chi!==void 0?r.chi:2,l=r.psi!==void 0?r.psi:-.5,u=r.sigma!==void 0?r.sigma:.5,y,x=s.length,d=new Array(x+1);d[0]=s,d[0].fx=e(s),d[0].id=0;for(var m=0;m<x;++m){var v=s.slice();v[m]=v[m]?v[m]*n:a,d[m+1]=v,d[m+1].fx=e(v),d[m+1].id=m+1}function g(S){for(var A=0;A<S.length;A++)d[x][A]=S[A];d[x].fx=S.fx}for(var p=function(S,A){return S.fx-A.fx},h=s.slice(),w=s.slice(),b=s.slice(),V=s.slice(),q=0;q<t;++q){if(d.sort(p),r.history){var $=d.map(function(S){var A=S.slice();return A.fx=S.fx,A.id=S.id,A});$.sort(function(S,A){return S.id-A.id}),r.history.push({x:d[0].slice(),fx:d[0].fx,simplex:$})}for(y=0,m=0;m<x;++m)y=Math.max(y,Math.abs(d[0][m]-d[1][m]));if(Math.abs(d[0].fx-d[x].fx)<i&&y<o)break;for(m=0;m<x;++m){h[m]=0;for(var F=0;F<x;++F)h[m]+=d[F][m];h[m]/=x}var z=d[x];if(C(w,1+f,h,-f,z),w.fx=e(w),w.fx<d[0].fx)C(V,1+c,h,-c,z),V.fx=e(V),V.fx<w.fx?g(V):g(w);else if(w.fx>=d[x-1].fx){var R=!1;if(w.fx>z.fx?(C(b,1+l,h,-l,z),b.fx=e(b),b.fx<z.fx?g(b):R=!0):(C(b,1-l*f,h,l*f,z),b.fx=e(b),b.fx<w.fx?g(b):R=!0),R){if(u>=1)break;for(m=1;m<d.length;++m)C(d[m],1-u,d[0],u,d[m]),d[m].fx=e(d[m])}}else g(w)}return d.sort(p),{fx:d[0].fx,x:d[0]}}function ze(e,s,r,t,n,a,i){var o=r.fx,f=j(r.fxprime,s),c=o,l=o,u=f,y=0;n=n||1,a=a||1e-6,i=i||.1;function x(m,v,g){for(var p=0;p<16;++p)if(n=(m+v)/2,C(t.x,1,r.x,n,s),c=t.fx=e(t.x,t.fxprime),u=j(t.fxprime,s),c>o+a*n*f||c>=g)v=n;else{if(Math.abs(u)<=-i*f)return n;u*(v-m)>=0&&(v=m),m=n,g=c}return 0}for(var d=0;d<10;++d){if(C(t.x,1,r.x,n,s),c=t.fx=e(t.x,t.fxprime),u=j(t.fxprime,s),c>o+a*n*f||d&&c>=l)return x(y,n,l);if(Math.abs(u)<=-i*f)return n;if(u>=0)return x(n,y,c);l=c,y=n,n*=2}return n}function Pe(e,s,r){var t={x:s.slice(),fx:0,fxprime:s.slice()},n={x:s.slice(),fx:0,fxprime:s.slice()},a=s.slice(),i,o,f=1,c;r=r||{},c=r.maxIterations||s.length*20,t.fx=e(t.x,t.fxprime),i=t.fxprime.slice(),Z(i,t.fxprime,-1);for(var l=0;l<c;++l){if(f=ze(e,i,t,n,f),r.history&&r.history.push({x:t.x.slice(),fx:t.fx,fxprime:t.fxprime.slice(),alpha:f}),!f)Z(i,t.fxprime,-1);else{C(a,1,n.fxprime,-1,t.fxprime);var u=j(t.fxprime,t.fxprime),y=Math.max(0,j(a,n.fxprime)/u);C(i,y,i,-1,n.fxprime),o=t,t=n,n=o}if(K(t.fxprime)<=1e-5)break}return r.history&&r.history.push({x:t.x.slice(),fx:t.fx,fxprime:t.fxprime.slice(),alpha:f}),t}const ie=1e-10;function H(e,s){const r=Ce(e),t=r.filter(o=>$e(o,e));let n=0,a=0;const i=[];if(t.length>1){const o=ue(t);for(let c=0;c<t.length;++c){const l=t[c];l.angle=Math.atan2(l.x-o.x,l.y-o.y)}t.sort((c,l)=>l.angle-c.angle);let f=t[t.length-1];for(let c=0;c<t.length;++c){const l=t[c];a+=(f.x+l.x)*(l.y-f.y);const u={x:(l.x+f.x)/2,y:(l.y+f.y)/2};let y=null;for(let x=0;x<l.parentIndex.length;++x)if(f.parentIndex.includes(l.parentIndex[x])){const d=e[l.parentIndex[x]],m=Math.atan2(l.x-d.x,l.y-d.y),v=Math.atan2(f.x-d.x,f.y-d.y);let g=v-m;g<0&&(g+=2*Math.PI);const p=v-g/2;let h=k(u,{x:d.x+d.radius*Math.sin(p),y:d.y+d.radius*Math.cos(p)});h>d.radius*2&&(h=d.radius*2),(y==null||y.width>h)&&(y={circle:d,width:h,p1:l,p2:f,large:h>d.radius,sweep:!0})}y!=null&&(i.push(y),n+=J(y.circle.radius,y.width),f=l)}}else{let o=e[0];for(let c=1;c<e.length;++c)e[c].radius<o.radius&&(o=e[c]);let f=!1;for(let c=0;c<e.length;++c)if(k(e[c],o)>Math.abs(o.radius-e[c].radius)){f=!0;break}f?n=a=0:(n=o.radius*o.radius*Math.PI,i.push({circle:o,p1:{x:o.x,y:o.y+o.radius},p2:{x:o.x-ie,y:o.y+o.radius},width:o.radius*2,large:!0,sweep:!0}))}return a/=2,s&&(s.area=n+a,s.arcArea=n,s.polygonArea=a,s.arcs=i,s.innerPoints=t,s.intersectionPoints=r),n+a}function $e(e,s){return s.every(r=>k(e,r)<r.radius+ie)}function Ce(e){const s=[];for(let r=0;r<e.length;++r)for(let t=r+1;t<e.length;++t){const n=fe(e[r],e[t]);for(const a of n)a.parentIndex=[r,t],s.push(a)}return s}function J(e,s){return e*e*Math.acos(1-s/e)-(e-s)*Math.sqrt(s*(2*e-s))}function k(e,s){return Math.sqrt((e.x-s.x)*(e.x-s.x)+(e.y-s.y)*(e.y-s.y))}function se(e,s,r){if(r>=e+s)return 0;if(r<=Math.abs(e-s))return Math.PI*Math.min(e,s)*Math.min(e,s);const t=e-(r*r-s*s+e*e)/(2*r),n=s-(r*r-e*e+s*s)/(2*r);return J(e,t)+J(s,n)}function fe(e,s){const r=k(e,s),t=e.radius,n=s.radius;if(r>=t+n||r<=Math.abs(t-n))return[];const a=(t*t-n*n+r*r)/(2*r),i=Math.sqrt(t*t-a*a),o=e.x+a*(s.x-e.x)/r,f=e.y+a*(s.y-e.y)/r,c=-(s.y-e.y)*(i/r),l=-(s.x-e.x)*(i/r);return[{x:o+c,y:f-l},{x:o-c,y:f+l}]}function ue(e){const s={x:0,y:0};for(const r of e)s.x+=r.x,s.y+=r.y;return s.x/=e.length,s.y/=e.length,s}function Fe(e,s={}){s.maxIterations=s.maxIterations||500;const r=s.initialLayout||Ee,t=s.lossFunction||X,n=Oe(e,s),a=r(n,s),i=Object.keys(a),o=[];for(const l of i)o.push(a[l].x),o.push(a[l].y);const c=le(l=>{const u={};for(let y=0;y<i.length;++y){const x=i[y];u[x]={x:l[2*y],y:l[2*y+1],radius:a[x].radius}}return t(u,n)},o,s).x;for(let l=0;l<i.length;++l){const u=i[l];a[u].x=c[2*l],a[u].y=c[2*l+1]}return a}const ce=1e-10;function Q(e,s,r){return Math.min(e,s)*Math.min(e,s)*Math.PI<=r+ce?Math.abs(e-s):ke(t=>se(e,s,t)-r,0,e+s)}function Oe(e,s={}){const r=s.distinct,t=e.map(o=>Object.assign({},o));function n(o){return o.join(";")}if(r){const o=new Map;for(const f of t)for(let c=0;c<f.sets.length;c++){const l=String(f.sets[c]);o.set(l,f.size+(o.get(l)||0));for(let u=c+1;u<f.sets.length;u++){const y=String(f.sets[u]),x=`${l};${y}`,d=`${y};${l}`;o.set(x,f.size+(o.get(x)||0)),o.set(d,f.size+(o.get(d)||0))}}for(const f of t)f.sets.length<3&&(f.size=o.get(n(f.sets)))}const a=[],i=new Set;for(const o of t)if(o.sets.length===1)a.push(o.sets[0]);else if(o.sets.length===2){const f=o.sets[0],c=o.sets[1];i.add(n(o.sets)),i.add(n([c,f]))}a.sort((o,f)=>o===f?0:o<f?-1:1);for(let o=0;o<a.length;++o){const f=a[o];for(let c=o+1;c<a.length;++c){const l=a[c];i.has(n([f,l]))||t.push({sets:[f,l],size:0})}}return t}function Re(e,s,r){const t=ae(s.length,s.length),n=ae(s.length,s.length);return e.filter(a=>a.sets.length===2).forEach(a=>{const i=r[a.sets[0]],o=r[a.sets[1]],f=Math.sqrt(s[i].size/Math.PI),c=Math.sqrt(s[o].size/Math.PI),l=Q(f,c,a.size);t[i][o]=t[o][i]=l;let u=0;a.size+1e-10>=Math.min(s[i].size,s[o].size)?u=1:a.size<=1e-10&&(u=-1),n[i][o]=n[o][i]=u}),{distances:t,constraints:n}}function je(e,s,r,t){for(let a=0;a<s.length;++a)s[a]=0;let n=0;for(let a=0;a<r.length;++a){const i=e[2*a],o=e[2*a+1];for(let f=a+1;f<r.length;++f){const c=e[2*f],l=e[2*f+1],u=r[a][f],y=t[a][f],x=(c-i)*(c-i)+(l-o)*(l-o),d=Math.sqrt(x),m=x-u*u;y>0&&d<=u||y<0&&d>=u||(n+=2*m*m,s[2*a]+=4*m*(i-c),s[2*a+1]+=4*m*(o-l),s[2*f]+=4*m*(c-i),s[2*f+1]+=4*m*(l-o))}}return n}function Ee(e,s={}){let r=_e(e,s);const t=s.lossFunction||X;if(e.length>=8){const n=Le(e,s),a=t(n,e),i=t(r,e);a+1e-8<i&&(r=n)}return r}function Le(e,s={}){const r=s.restarts||10,t=[],n={};for(const y of e)y.sets.length===1&&(n[y.sets[0]]=t.length,t.push(y));let{distances:a,constraints:i}=Re(e,t,n);const o=K(a.map(K))/a.length;a=a.map(y=>y.map(x=>x/o));const f=(y,x)=>je(y,x,a,i);let c=null;for(let y=0;y<r;++y){const x=U(a.length*2).map(Math.random),d=Pe(f,x,s);(!c||d.fx<c.fx)&&(c=d)}const l=c.x,u={};for(let y=0;y<t.length;++y){const x=t[y];u[x.sets[0]]={x:l[2*y]*o,y:l[2*y+1]*o,radius:Math.sqrt(x.size/Math.PI)}}if(s.history)for(const y of s.history)Z(y.x,o);return u}function _e(e,s){const r=s&&s.lossFunction?s.lossFunction:X,t={},n={};for(const u of e)if(u.sets.length===1){const y=u.sets[0];t[y]={x:1e10,y:1e10,rowid:t.length,size:u.size,radius:Math.sqrt(u.size/Math.PI)},n[y]=[]}e=e.filter(u=>u.sets.length===2);for(const u of e){let y=u.weight!=null?u.weight:1;const x=u.sets[0],d=u.sets[1];u.size+ce>=Math.min(t[x].size,t[d].size)&&(y=0),n[x].push({set:d,size:u.size,weight:y}),n[d].push({set:x,size:u.size,weight:y})}const a=[];Object.keys(n).forEach(u=>{let y=0;for(let x=0;x<n[u].length;++x)y+=n[u][x].size*n[u][x].weight;a.push({set:u,size:y})});function i(u,y){return y.size-u.size}a.sort(i);const o={};function f(u){return u.set in o}function c(u,y){t[y].x=u.x,t[y].y=u.y,o[y]=!0}c({x:0,y:0},a[0].set);for(let u=1;u<a.length;++u){const y=a[u].set,x=n[y].filter(f),d=t[y];if(x.sort(i),x.length===0)throw"ERROR: missing pairwise overlap information";const m=[];for(var l=0;l<x.length;++l){const p=t[x[l].set],h=Q(d.radius,p.radius,x[l].size);m.push({x:p.x+h,y:p.y}),m.push({x:p.x-h,y:p.y}),m.push({y:p.y+h,x:p.x}),m.push({y:p.y-h,x:p.x});for(let w=l+1;w<x.length;++w){const b=t[x[w].set],V=Q(d.radius,b.radius,x[w].size),q=fe({x:p.x,y:p.y,radius:h},{x:b.x,y:b.y,radius:V});m.push(...q)}}let v=1e50,g=m[0];for(const p of m){t[y].x=p.x,t[y].y=p.y;const h=r(t,e);h<v&&(v=h,g=p)}c(g,y)}return t}function X(e,s){let r=0;for(const t of s){if(t.sets.length===1)continue;let n;if(t.sets.length===2){const i=e[t.sets[0]],o=e[t.sets[1]];n=se(i.radius,o.radius,k(i,o))}else n=H(t.sets.map(i=>e[i]));const a=t.weight!=null?t.weight:1;r+=a*(n-t.size)*(n-t.size)}return r}function De(e,s){let r=0;for(const t of s){if(t.sets.length===1)continue;let n;if(t.sets.length===2){const o=e[t.sets[0]],f=e[t.sets[1]];n=se(o.radius,f.radius,k(o,f))}else n=H(t.sets.map(o=>e[o]));const a=t.weight!=null?t.weight:1,i=Math.log((n+1)/(t.size+1));r+=a*i*i}return r}function Te(e,s,r){if(r==null?e.sort((n,a)=>a.radius-n.radius):e.sort(r),e.length>0){const n=e[0].x,a=e[0].y;for(const i of e)i.x-=n,i.y-=a}if(e.length===2&&k(e[0],e[1])<Math.abs(e[1].radius-e[0].radius)&&(e[1].x=e[0].x+e[0].radius-e[1].radius-1e-10,e[1].y=e[0].y),e.length>1){const n=Math.atan2(e[1].x,e[1].y)-s,a=Math.cos(n),i=Math.sin(n);for(const o of e){const f=o.x,c=o.y;o.x=a*f-i*c,o.y=i*f+a*c}}if(e.length>2){let n=Math.atan2(e[2].x,e[2].y)-s;for(;n<0;)n+=2*Math.PI;for(;n>2*Math.PI;)n-=2*Math.PI;if(n>Math.PI){const a=e[1].y/(1e-10+e[1].x);for(const i of e){var t=(i.x+a*i.y)/(1+a*a);i.x=2*t-i.x,i.y=2*t*a-i.y}}}}function Ne(e){e.forEach(n=>{n.parent=n});function s(n){return n.parent!==n&&(n.parent=s(n.parent)),n.parent}function r(n,a){const i=s(n),o=s(a);i.parent=o}for(let n=0;n<e.length;++n)for(let a=n+1;a<e.length;++a){const i=e[n].radius+e[a].radius;k(e[n],e[a])+1e-10<i&&r(e[a],e[n])}const t=new Map;for(let n=0;n<e.length;++n){const a=s(e[n]).parent.setid;t.has(a)||t.set(a,[]),t.get(a).push(e[n])}return e.forEach(n=>{delete n.parent}),Array.from(t.values())}function ee(e){const s=r=>{const t=e.reduce((a,i)=>Math.max(a,i[r]+i.radius),Number.NEGATIVE_INFINITY),n=e.reduce((a,i)=>Math.min(a,i[r]-i.radius),Number.POSITIVE_INFINITY);return{max:t,min:n}};return{xRange:s("x"),yRange:s("y")}}function Ge(e,s,r){s==null&&(s=Math.PI/2);let t=xe(e).map(c=>Object.assign({},c));const n=Ne(t);for(const c of n){Te(c,s,r);const l=ee(c);c.size=(l.xRange.max-l.xRange.min)*(l.yRange.max-l.yRange.min),c.bounds=l}n.sort((c,l)=>l.size-c.size),t=n[0];let a=t.bounds;const i=(a.xRange.max-a.xRange.min)/50;function o(c,l,u){if(!c)return;const y=c.bounds;let x,d;if(l)x=a.xRange.max-y.xRange.min+i;else{x=a.xRange.max-y.xRange.max;const m=(y.xRange.max-y.xRange.min)/2-(a.xRange.max-a.xRange.min)/2;m<0&&(x+=m)}if(u)d=a.yRange.max-y.yRange.min+i;else{d=a.yRange.max-y.yRange.max;const m=(y.yRange.max-y.yRange.min)/2-(a.yRange.max-a.yRange.min)/2;m<0&&(d+=m)}for(const m of c)m.x+=x,m.y+=d,t.push(m)}let f=1;for(;f<n.length;)o(n[f],!0,!1),o(n[f+1],!1,!0),o(n[f+2],!0,!0),f+=3,a=ee(t);return ye(t)}function We(e,s,r,t,n){const a=xe(e);s-=2*t,r-=2*t;const{xRange:i,yRange:o}=ee(a);if(i.max===i.min||o.max===o.min)return console.log("not scaling solution: zero size detected"),e;let f,c;if(n){const x=Math.sqrt(n/Math.PI)*2;f=s/x,c=r/x}else f=s/(i.max-i.min),c=r/(o.max-o.min);const l=Math.min(c,f),u=(s-(i.max-i.min)*l)/2,y=(r-(o.max-o.min)*l)/2;return ye(a.map(x=>({radius:l*x.radius,x:t+u+(x.x-i.min)*l,y:t+y+(x.y-o.min)*l,setid:x.setid})))}function ye(e){const s={};for(const r of e)s[r.setid]=r;return s}function xe(e){return Object.keys(e).map(r=>Object.assign(e[r],{setid:r}))}function B(e,s,r){let t=s[0].radius-k(s[0],e);for(let n=1;n<s.length;++n){const a=s[n].radius-k(s[n],e);a<=t&&(t=a)}for(let n=0;n<r.length;++n){const a=k(r[n],e)-r[n].radius;a<=t&&(t=a)}return t}function de(e,s,r){const t=[];for(const l of e)t.push({x:l.x,y:l.y}),t.push({x:l.x+l.radius/2,y:l.y}),t.push({x:l.x-l.radius/2,y:l.y}),t.push({x:l.x,y:l.y+l.radius/2}),t.push({x:l.x,y:l.y-l.radius/2});let n=t[0],a=B(t[0],e,s);for(let l=1;l<t.length;++l){const u=B(t[l],e,s);u>=a&&(n=t[l],a=u)}const i=le(l=>-1*B({x:l[0],y:l[1]},e,s),[n.x,n.y],{maxIterations:500,minErrorDelta:1e-10}).x,o={x:r?0:i[0],y:i[1]};let f=!0;for(const l of e)if(k(o,l)>l.radius){f=!1;break}for(const l of s)if(k(o,l)<l.radius){f=!1;break}if(f)return o;if(e.length==1)return{x:e[0].x,y:e[0].y};const c={};return H(e,c),c.arcs.length===0?{x:0,y:-1e3,disjoint:!0}:c.arcs.length==1?{x:c.arcs[0].circle.x,y:c.arcs[0].circle.y}:s.length?de(e,[]):ue(c.arcs.map(l=>l.p1))}function Ye(e){const s={},r=Object.keys(e);for(const t of r)s[t]=[];for(let t=0;t<r.length;t++){const n=r[t],a=e[n];for(let i=t+1;i<r.length;++i){const o=r[i],f=e[o],c=k(a,f);c+f.radius<=a.radius+1e-10?s[o].push(n):c+a.radius<=f.radius+1e-10&&s[n].push(o)}}return s}function He(e,s,r){const t={},n=Ye(e);for(let a=0;a<s.length;++a){const i=s[a].sets,o={},f={};for(let y=0;y<i.length;++y){o[i[y]]=!0;const x=n[i[y]];for(let d=0;d<x.length;++d)f[x[d]]=!0}const c=[],l=[];for(let y in e)y in o?c.push(e[y]):y in f||l.push(e[y]);const u=de(c,l,r);t[i]=u,u.disjoint&&s[a].size>0&&console.log("WARNING: area "+i+" not represented on screen")}return t}function Xe(e,s,r){const t=[];return t.push(`
M`,e,s),t.push(`
m`,-r,0),t.push(`
a`,r,r,0,1,0,r*2,0),t.push(`
a`,r,r,0,1,0,-r*2,0),t.join(" ")}function Be(e){if(e.length===0)return[];const s={};return H(e,s),s.arcs}function Ue(e,s){if(e.length===0)return"M 0 0";const r=Math.pow(10,s||0),t=s!=null?a=>Math.round(a*r)/r:a=>a;if(e.length==1){const a=e[0].circle;return Xe(t(a.x),t(a.y),t(a.radius))}const n=[`
M`,t(e[0].p2.x),t(e[0].p2.y)];for(const a of e){const i=t(a.circle.radius);n.push(`
A`,i,i,0,a.large?1:0,a.sweep?1:0,t(a.p1.x),t(a.p1.y))}return n.join(" ")}function Ke(e,s={}){const{lossFunction:r,layoutFunction:t=Fe,normalize:n=!0,orientation:a=Math.PI/2,orientationOrder:i,width:o=600,height:f=350,padding:c=15,scaleToFit:l=!1,symmetricalTextCentre:u=!1,distinct:y,round:x=2}=s;let d=t(e,{lossFunction:r==="default"||!r?X:r==="logRatio"?De:r,distinct:y});n&&(d=Ge(d,a,i));const m=We(d,o,f,c,l),v=He(m,e,u),g=new Map(Object.keys(m).map(w=>[w,{set:w,x:m[w].x,y:m[w].y,radius:m[w].radius}])),p=e.map(w=>{const b=w.sets.map($=>g.get($)),V=Be(b),q=Ue(V,x);return{circles:b,arcs:V,path:q,area:w,has:new Set(w.sets)}});function h(w){let b="";for(const V of p)V.has.size>w.length&&w.every(q=>V.has.has(q))&&(b+=" "+V.path);return b}return p.map(({circles:w,arcs:b,path:V,area:q})=>({data:q,text:v[q.sets],circles:w,arcs:b,path:V,distinctPath:V+h(q.sets)}))}const Ze=({data:e,animated:s})=>{const r=s?{...W}:{delay:0,type:!1},t=me(e.path),n=pe(0,{stiffness:300,damping:30});return I.useEffect(()=>{const a=be(t.get(),e.path),i=n.get();return n.set(1+i),n.on("change",o=>t.set(a(o-i)))},[t,e.path,n]),{transition:r,d:t}},D=({data:e,fill:s,disabled:r,animated:t,stroke:n,mask:a,id:i,style:o,active:f,inactiveStyle:c,activeStyle:l,initialStyle:u,strokeWidth:y,gradient:x,glow:d,tooltip:m,onClick:v,onMouseEnter:g,onMouseLeave:p})=>{const[h,w]=I.useState(!1),b=I.useRef(null),{transition:V,d:q}=Ze({animated:t,data:e}),$=f?l:f===null?c:u,F=x&&!a?`url(#gradient-${i})`:a?`url(#mask-pattern-${i})`:s,{pointerOut:z,pointerOver:R}=qe({onPointerOver:P=>{r||(w(!0),g==null||g({value:e.data,nativeEvent:P}))},onPointerOut:P=>{r||(w(!1),p==null||p({value:e.data,nativeEvent:P}))}}),S=I.useMemo(()=>{var P,E;return{y:e.data.size,x:(E=(P=e.data)==null?void 0:P.sets)==null?void 0:E.join(" | ")}},[e]),A=I.useMemo(()=>Se(S),[S]);return _("g",{title:e.data.key,onPointerOver:R,onPointerOut:z,onClick:P=>{r||v==null||v({value:e.data,nativeEvent:P})},tabIndex:0,"aria-label":A,role:"graphics-document",children:[M(Y.path,{ref:b,fill:F,id:`${i}-arc`,strokeWidth:y,stroke:n,transition:V,d:q,initial:u,animate:$,style:{...o,...Ae({glow:d,colorSchemeColor:typeof n=="string"?n:null})}}),a&&_(I.Fragment,{children:[M(Me,{id:`mask-${i}`,fill:`url(#gradient-${i})`}),M(O,{element:a,id:`mask-pattern-${i}`,fill:s})]}),x&&M(O,{element:x,id:`gradient-${i}`,color:s}),m&&!m.props.disabled&&M(O,{element:m,visible:!!h,reference:b,value:S})]})};D.defaultProps={active:!1,inactiveStyle:{opacity:.3},activeStyle:{opacity:.8},initialStyle:{opacity:.6},strokeWidth:3,gradient:M(ge,{}),tooltip:M(he,{}),onClick:()=>{},onMouseEnter:()=>{},onMouseLeave:()=>{}};try{D.displayName="VennArc",D.__docgenInfo={description:"",displayName:"VennArc",props:{active:{defaultValue:{value:"false"},description:"Whether the shape is active or not.",name:"active",required:!1,type:{name:"boolean"}},id:{defaultValue:null,description:"Id set by the parent.",name:"id",required:!1,type:{name:"string"}},animated:{defaultValue:null,description:"Whether the chart is animated or not.",name:"animated",required:!1,type:{name:"boolean"}},fill:{defaultValue:null,description:"Fill color for the arc.",name:"fill",required:!1,type:{name:"string"}},stroke:{defaultValue:null,description:"Stroke for the arc.",name:"stroke",required:!1,type:{name:"string | ((data: IVennLayout<any>[], index: number, isActive: boolean, isHovered: boolean) => string)"}},data:{defaultValue:null,description:"The internal data object built by venn.js",name:"data",required:!1,type:{name:"IVennLayout<any>"}},disabled:{defaultValue:null,description:"Whether the chart is disabled.",name:"disabled",required:!1,type:{name:"boolean"}},strokeWidth:{defaultValue:{value:"3"},description:"Stroke on the arc.",name:"strokeWidth",required:!1,type:{name:"number"}},initialStyle:{defaultValue:{value:"{ opacity: 0.6 }"},description:"Initial style of arc.",name:"initialStyle",required:!1,type:{name:"any"}},activeStyle:{defaultValue:{value:"{ opacity: 0.8 }"},description:"Active style of arc.",name:"activeStyle",required:!1,type:{name:"any"}},inactiveStyle:{defaultValue:{value:"{ opacity: 0.3 }"},description:"Inactive style of arc.",name:"inactiveStyle",required:!1,type:{name:"any"}},style:{defaultValue:null,description:"CSS Styles for the arc.",name:"style",required:!1,type:{name:"any"}},tooltip:{defaultValue:{value:"<ChartTooltip />"},description:"Tooltip element.",name:"tooltip",required:!1,type:{name:"ReactElement<ChartTooltipProps, FC<Partial<ChartTooltipProps>>>"}},mask:{defaultValue:null,description:"Mask element for the arc.",name:"mask",required:!1,type:{name:"ReactElement<MaskProps, FC<MaskProps>>"}},gradient:{defaultValue:{value:"<Gradient />"},description:"Gradient shades for the arc.",name:"gradient",required:!1,type:{name:"ReactElement<GradientProps, FC<Partial<GradientProps>>>"}},glow:{defaultValue:null,description:"Glow styling for the arc.",name:"glow",required:!1,type:{name:"Glow"}},onClick:{defaultValue:{value:"() => undefined"},description:"Event for when the arc is clicked.",name:"onClick",required:!1,type:{name:"(event: any) => void"}},onMouseEnter:{defaultValue:{value:"() => undefined"},description:"Event for when the arc has mouse enter.",name:"onMouseEnter",required:!1,type:{name:"(event: any) => void"}},onMouseLeave:{defaultValue:{value:"() => undefined"},description:"Event for when the arc has mouse leave.",name:"onMouseLeave",required:!1,type:{name:"(event: any) => void"}}}}}catch{}const T=({data:e,format:s,id:r,active:t,labelType:n,showAll:a,wrap:i,animated:o,fill:f,fontSize:c,fontFamily:l})=>{var d,m,v,g,p;if(!a&&!((d=e.arcs)!=null&&d.filter(h=>h.large).length))return null;const u=n==="key"?(v=(m=e.data)==null?void 0:m.sets)==null?void 0:v.join(" | "):e.data.size,y=o?W:{delay:0,type:!1},x=i?Ve({key:u,x:e.text.x,fontFamily:l,fontSize:c,width:(p=(g=e==null?void 0:e.circles)==null?void 0:g[0])==null?void 0:p.radius}):u;return M(Y.text,{id:`${r}-text`,fill:f,pointerEvents:"none",fontFamily:l,fontSize:c,initial:{attrX:e.text.x,attrY:e.text.y,opacity:1},animate:{attrX:e.text.x,attrY:e.text.y,opacity:t===null?.3:1},transition:y,textAnchor:"middle",children:s?s(e):x})};T.defaultProps={labelType:"key",showAll:!1,wrap:!0,animated:!0,fontSize:11,fontFamily:"sans-serif"};try{T.displayName="VennLabel",T.__docgenInfo={description:"",displayName:"VennLabel",props:{active:{defaultValue:null,description:"Whether the shape is active or not.",name:"active",required:!1,type:{name:"boolean"}},id:{defaultValue:null,description:"Set by the parent element.",name:"id",required:!1,type:{name:"string"}},showAll:{defaultValue:{value:"false"},description:"Show all labels or just the large ones. Default false.",name:"showAll",required:!1,type:{name:"boolean"}},labelType:{defaultValue:{value:"key"},description:"The label type to show.",name:"labelType",required:!1,type:{name:"enum",value:[{value:'"value"'},{value:'"key"'}]}},wrap:{defaultValue:{value:"true"},description:"Should wrap text or not.",name:"wrap",required:!1,type:{name:"boolean"}},data:{defaultValue:null,description:"The internal data object built by venn.js",name:"data",required:!1,type:{name:"any"}},fontSize:{defaultValue:{value:"11"},description:"Font size of the text.",name:"fontSize",required:!1,type:{name:"number"}},fontFamily:{defaultValue:{value:"sans-serif"},description:"Font family of the text.",name:"fontFamily",required:!1,type:{name:"string"}},fill:{defaultValue:null,description:"Fill of the text.",name:"fill",required:!1,type:{name:"string"}},animated:{defaultValue:{value:"true"},description:"Whether the chart is animated or not.",name:"animated",required:!1,type:{name:"boolean"}},format:{defaultValue:null,description:"Format label.",name:"format",required:!1,type:{name:"(data: any) => any"}}}}}catch{}const N=({data:e,format:s,animated:r,fill:t,fontSize:n,fontFamily:a})=>{const i=r?W:{delay:0,type:!1},o=e.set.data.key,f=s?s(e):o,c=I.isValidElement(f),l=c&&e.set.icon,u={x:l?e.set.icon.x:e.set.text.x,y:l?e.set.icon.y:e.set.text.y};return M(I.Fragment,{children:c?M("g",{style:{transform:`translate(${u.x}px, ${u.y}px)`},children:f}):M(Y.text,{fill:t,style:{pointerEvents:"none",fontFamily:a,fontSize:n},textAnchor:e.set.align==="middle"?"center":e.set.align,alignmentBaseline:e.set.verticalAlign,initial:{attrX:u.x,attrY:u.y},animate:{attrX:u.x,attrY:u.y},transition:i,children:f})})};N.defaultProps={animated:!0,fill:"#000",fontSize:14,fontFamily:"sans-serif"};try{N.displayName="VennOuterLabel",N.__docgenInfo={description:"",displayName:"VennOuterLabel",props:{data:{defaultValue:null,description:"The internal data object built by venn.js",name:"data",required:!1,type:{name:"any"}},fontSize:{defaultValue:{value:"14"},description:"Font size of the text.",name:"fontSize",required:!1,type:{name:"number"}},fontFamily:{defaultValue:{value:"sans-serif"},description:"Font family of the text.",name:"fontFamily",required:!1,type:{name:"string"}},fill:{defaultValue:{value:"#000"},description:"Fill of the text.",name:"fill",required:!1,type:{name:"string"}},animated:{defaultValue:{value:"true"},description:"Whether the chart is animated or not.",name:"animated",required:!1,type:{name:"boolean"}},format:{defaultValue:null,description:"Format label.",name:"format",required:!1,type:{name:"(data: any) => any"}}}}}catch{}const G=({data:e,id:s,selections:r,animated:t,disabled:n,colorScheme:a,outerLabel:i,arc:o,label:f})=>{const c=t?W:{type:!1,delay:0},[l,u]=I.useState([]),[y,x]=I.useState(null),d=I.useCallback(g=>{x(g),u(e.filter(p=>{var h;return((h=p.data)==null?void 0:h.key.indexOf(g))>-1}).map(p=>{var h;return(h=p.data)==null?void 0:h.key}))},[e]),m=I.useCallback((g,p)=>{var P,E;const h=ve({data:e,colorScheme:a,point:g.data,index:p}),w=h?Ie(re(h).darken(.5).hex(),!0):"white",b=o.props.fill||h,V=(P=g==null?void 0:g.data)==null?void 0:P.key,q=ne((E=g.data)==null?void 0:E.key),$=r==null?void 0:r.includes(V),F=y===V||$,z=$||l.includes(V)||(l.length>0?null:!1),A=(()=>typeof o.props.stroke=="function"?o.props.stroke(e,p,z,F):o.props.stroke!==void 0?o.props.stroke:h)()||re(b).darken(z?.8:.5).hex();return _(I.Fragment,{children:[M(O,{element:o,id:`${s}-${q}`,data:g,fill:b,stroke:A,disabled:n,animated:t,active:z,onMouseEnter:()=>d(V),onMouseLeave:()=>{u([]),x(null)}}),f&&M(O,{element:f,data:g,id:`${s}-${q}`,active:z,animated:t,fill:w,...f.props}),g.set&&i&&M(O,{element:i,data:g,animated:t})]},q)},[e,a,o,r,y,l,s,n,t,f,i,d]),v=I.useMemo(()=>{const g=[];return l.length>0&&g.push(...l.filter(p=>p!==y)),r!=null&&r.length&&g.push(...r.filter(p=>!l.includes(p)&&p!==y)),y&&g.push(y),g},[y,l,r]);return _(Y.g,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:c,children:[e.map(m),v.length>0&&v.map(g=>M("use",{xlinkHref:`#${s}-${g}-arc`,style:{pointerEvents:"none"}},g)),e.map((g,p)=>{var h;return M("use",{xlinkHref:`#${s}-${ne((h=g.data)==null?void 0:h.key)}-text`,style:{pointerEvents:"none"}},p)})]})};G.defaultProps={animated:!0,disabled:!1,colorScheme:"cybertron",outerLabel:M(N,{}),arc:M(D,{}),label:M(T,{})};try{G.displayName="VennSeries",G.__docgenInfo={description:"",displayName:"VennSeries",props:{id:{defaultValue:null,description:"Id set by the parent.",name:"id",required:!1,type:{name:"string"}},selections:{defaultValue:null,description:"Active managed selections.",name:"selections",required:!1,type:{name:"string[]"}},data:{defaultValue:null,description:"The internal data object built by venn.js",name:"data",required:!1,type:{name:"IVennLayout<any>[]"}},colorScheme:{defaultValue:{value:"cybertron"},description:"Color scheme for the chart.",name:"colorScheme",required:!1,type:{name:"ColorSchemeType"}},disabled:{defaultValue:{value:"false"},description:"Whether the chart is disabled.",name:"disabled",required:!1,type:{name:"boolean"}},animated:{defaultValue:{value:"true"},description:"Whether the chart is animated or not.",name:"animated",required:!1,type:{name:"boolean"}},label:{defaultValue:{value:"<VennLabel />"},description:"Label element.",name:"label",required:!1,type:{name:"ReactElement<VennLabelProps, FC<Partial<VennLabelProps>>>"}},outerLabel:{defaultValue:{value:"<VennOuterLabel />"},description:"Label element.",name:"outerLabel",required:!1,type:{name:"ReactElement<VennOuterLabelProps, FC<Partial<VennOuterLabelProps>>>"}},arc:{defaultValue:{value:"<VennArc />"},description:"Arc element.",name:"arc",required:!1,type:{name:"ReactElement<VennArcProps, FC<Partial<VennArcProps>>>"}}}}}catch{}const Je=[],Qe=[],et={x:0,y:0,width:10,height:10},tt={sets:Je,intersections:Qe,bb:et},st=[{cx:0,cy:0,r:5,text:{x:3.5,y:-4},align:"start",verticalAlign:"bottom"}],rt=[{sets:[0],x1:0,y1:5,arcs:[{mode:"i",ref:0,x2:0,y2:-5,sweep:!1,large:!1},{mode:"i",ref:0,x2:0,y2:5,sweep:!1,large:!1}],text:{x:0,y:0}}],nt={x:-5,y:-5,width:10,height:10},at={sets:st,intersections:rt,bb:nt},ot=[{cx:-4,cy:0,r:5,text:{x:-7.5,y:4},align:"end",verticalAlign:"top"},{cx:4,cy:0,r:5,text:{x:7.5,y:-4},align:"start",verticalAlign:"bottom"}],lt=[{sets:[0],x1:0,y1:-3,arcs:[{mode:"i",ref:0,x2:0,y2:3,sweep:!1,large:!0},{mode:"o",ref:1,x2:0,y2:-3,sweep:!0,large:!1}],text:{x:-4,y:0}},{sets:[1],x1:0,y1:3,arcs:[{mode:"i",ref:1,x2:0,y2:-3,sweep:!1,large:!0},{mode:"o",ref:0,x2:0,y2:3,sweep:!0,large:!1}],text:{x:4,y:0}},{sets:[0,1],x1:0,y1:3,arcs:[{mode:"i",ref:0,x2:0,y2:-3,sweep:!1,large:!1},{mode:"i",ref:1,x2:0,y2:3,sweep:!1,large:!1}],text:{x:0,y:0}}],it={x:-9,y:-5,width:18,height:10},ft={sets:ot,intersections:lt,bb:it},ut=[{cx:-3.464,cy:-2,r:5,text:{x:-7,y:-6},align:"end"},{cx:3.464,cy:-2,r:5,text:{x:7,y:-6},align:"start"},{cx:0,cy:4,r:5,text:{x:4,y:7.5},align:"start",verticalAlign:"top"}],ct=[{sets:[0],x1:-4.855,y1:2.803,arcs:[{mode:"o",ref:2,x2:-1.39,y2:-.803,sweep:!0,large:!1},{mode:"o",ref:1,x2:0,y2:-5.606,sweep:!0,large:!1},{mode:"i",ref:0,x2:-4.855,y2:2.803,sweep:!1,large:!0}],text:{x:-4.216,y:-2.434}},{sets:[1],x1:0,y1:-5.606,arcs:[{mode:"o",ref:0,x2:1.39,y2:-.803,sweep:!0,large:!1},{mode:"o",ref:2,x2:4.855,y2:2.803,sweep:!0,large:!1},{mode:"i",ref:1,x2:0,y2:-5.606,sweep:!1,large:!0}],text:{x:4.216,y:-2.434}},{sets:[2],x1:-4.855,y1:2.803,arcs:[{mode:"o",ref:0,x2:0,y2:1.606,sweep:!1,large:!1},{mode:"o",ref:1,x2:4.855,y2:2.803,sweep:!1,large:!1},{mode:"i",ref:2,x2:-4.855,y2:2.803,sweep:!0,large:!0}],text:{x:0,y:4.869}},{sets:[0,1],x1:0,y1:-5.606,arcs:[{mode:"i",ref:1,x2:-1.39,y2:-.803,sweep:!1,large:!1},{mode:"o",ref:2,x2:1.39,y2:-.803,sweep:!0,large:!1},{mode:"i",ref:0,x2:0,y2:-5.606,sweep:!1,large:!1}],text:{x:0,y:-2.404}},{sets:[0,2],x1:-4.855,y1:2.803,arcs:[{mode:"i",ref:2,x2:-1.39,y2:-.803,sweep:!0,large:!1},{mode:"o",ref:1,x2:0,y2:1.606,sweep:!1,large:!1},{mode:"i",ref:0,x2:-4.855,y2:2.803,sweep:!0,large:!1}],text:{x:-2.082,y:1.202}},{sets:[1,2],x1:4.855,y1:2.803,arcs:[{mode:"i",ref:2,x2:1.39,y2:-.803,sweep:!1,large:!1},{mode:"o",ref:0,x2:0,y2:1.606,sweep:!0,large:!1},{mode:"i",ref:1,x2:4.855,y2:2.803,sweep:!1,large:!1}],text:{x:2.082,y:1.202}},{sets:[0,1,2],x1:1.39,y1:-.803,arcs:[{mode:"i",ref:0,x2:0,y2:1.606,sweep:!0,large:!1},{mode:"i",ref:1,x2:-1.39,y2:-.803,sweep:!0,large:!1},{mode:"i",ref:2,x2:1.39,y2:-.803,sweep:!0,large:!1}],text:{x:0,y:0}}],yt={x:-8.464,y:-7,width:16.928,height:16},xt={sets:ut,intersections:ct,bb:yt},dt=[{cx:.439,cy:-1.061,rx:2.5,ry:5,rotation:45,text:{x:4.5,y:-4.5},align:"start",verticalAlign:"bottom"},{cx:2.561,cy:1.061,rx:2.5,ry:5,rotation:45,text:{x:4,y:3.75},align:"start",verticalAlign:"top"},{cx:-2.561,cy:1.061,rx:2.5,ry:5,rotation:-45,text:{x:-4,y:3.7},align:"end",verticalAlign:"top"},{cx:-.439,cy:-1.061,rx:2.5,ry:5,rotation:-45,text:{x:-4.5,y:-4.5},align:"end",verticalAlign:"bottom"}],mt=[{sets:[0],x1:0,y1:-3.94,arcs:[{ref:0,mode:"i",x2:4.328,y2:-2.828,sweep:!0,large:!1},{ref:1,mode:"o",x2:2.179,y2:-1.858,large:!1},{ref:3,mode:"o",x2:0,y2:-3.94,large:!1}],text:{x:2.914,y:-3.536}},{sets:[1],x1:4.328,y1:-2.828,arcs:[{ref:1,mode:"i",x2:0,y2:5.006,sweep:!0,large:!0},{ref:2,mode:"o",x2:1.328,y2:2.828},{ref:3,mode:"o",x2:3.108,y2:-.328},{ref:0,mode:"o",x2:4.328,y2:-2.828}],text:{x:5.036,y:-1.414}},{sets:[2],x1:0,y1:5.006,arcs:[{ref:2,mode:"i",x2:-4.328,y2:-2.828,sweep:!0,large:!0},{ref:3,mode:"o",x2:-3.108,y2:-.328},{ref:0,mode:"o",x2:-1.328,y2:2.828},{ref:1,mode:"o",x2:0,y2:5.006}],text:{x:-5.036,y:-1.414}},{sets:[3],x1:-4.328,y1:-2.828,arcs:[{ref:3,mode:"i",x2:0,y2:-3.94,sweep:!0,large:!1},{ref:0,mode:"o",x2:-2.179,y2:-1.858,large:!1},{ref:2,mode:"o",x2:-4.328,y2:-2.828,large:!1}],text:{x:-2.914,y:-3.536}},{sets:[0,1],x1:4.328,y1:-2.828,arcs:[{ref:1,mode:"i",x2:3.108,y2:-.328,sweep:!0,large:!1},{ref:3,mode:"o",x2:2.179,y2:-1.858,sweep:!1,large:!1},{ref:0,mode:"i",x2:4.328,y2:-2.828,sweep:!0,large:!1}],text:{x:3.205,y:-1.672}},{sets:[0,2],x1:-1.328,y1:2.828,arcs:[{ref:0,mode:"i",x2:-3.108,y2:-.328,sweep:!0,large:!1},{ref:3,mode:"o",x2:-.969,y2:1.755,large:!1},{ref:1,mode:"o",x2:-1.328,y2:2.828,large:!1}],text:{x:-2.212,y:1.591}},{sets:[0,3],x1:0,y1:-3.94,arcs:[{ref:3,mode:"i",x2:2.179,y2:-1.858,sweep:!0,large:!1},{ref:1,mode:"o",x2:0,y2:.188,sweep:!1,large:!1},{ref:2,mode:"o",x2:-2.179,y2:-1.858,sweep:!1,large:!1},{ref:0,mode:"i",x2:0,y2:-3.94,sweep:!0}],text:{x:0,y:-1.87}},{sets:[1,2],x1:1.328,y1:2.828,arcs:[{ref:2,mode:"i",x2:0,y2:5.006,sweep:!0,large:!1},{ref:1,mode:"i",x2:-1.328,y2:2.828,sweep:!0,large:!1},{ref:0,mode:"o",x2:0,y2:2.346,large:!1},{ref:3,mode:"o",x2:1.328,y2:2.828}],text:{x:0,y:3.393}},{sets:[1,3],x1:3.108,y1:-.328,arcs:[{ref:3,mode:"i",x2:1.328,y2:2.828,sweep:!0,large:!1},{ref:2,mode:"o",x2:.969,y2:1.755,large:!1},{ref:1,mode:"i",x2:3.108,y2:-.328,large:!1}],text:{x:2.212,y:1.591}},{sets:[2,3],x1:-3.108,y1:-.328,arcs:[{ref:3,mode:"i",x2:-4.328,y2:-2.828,sweep:!0,large:!1},{ref:2,mode:"i",x2:-2.179,y2:-1.858,sweep:!0,large:!1},{ref:0,mode:"o",x2:-3.108,y2:-.328,large:!1}],text:{x:-3.205,y:-1.672}},{sets:[0,1,2],x1:0,y1:2.346,arcs:[{ref:0,mode:"i",x2:-1.328,y2:2.828,sweep:!0,large:!1},{ref:1,mode:"i",x2:-.969,y2:1.755,sweep:!0,large:!1},{ref:3,mode:"o",x2:0,y2:2.346,large:!1}],text:{x:-.766,y:2.31}},{sets:[0,1,3],x1:2.179,y1:-1.858,arcs:[{ref:3,mode:"i",x2:3.108,y2:-.328,sweep:!0,large:!1},{ref:0,mode:"i",x2:.969,y2:1.755,sweep:!0,large:!1},{ref:2,mode:"o",x2:0,y2:.188,sweep:!1,large:!1},{ref:1,mode:"i",x2:2.179,y2:-1.858,sweep:!0}],text:{x:1.558,y:-.056}},{sets:[0,2,3],x1:-.969,y1:1.755,arcs:[{ref:3,mode:"i",x2:-3.108,y2:-.328,sweep:!0,large:!1},{ref:0,mode:"i",x2:-2.179,y2:-1.858,sweep:!0,large:!1},{ref:2,mode:"i",x2:0,y2:.188,sweep:!0,large:!1},{ref:1,mode:"o",x2:-.969,y2:1.755}],text:{x:-1.558,y:-.056}},{sets:[1,2,3],x1:1.328,y1:2.828,arcs:[{ref:3,mode:"i",x2:0,y2:2.346,sweep:!0,large:!1},{ref:0,mode:"o",x2:.969,y2:1.755,sweep:!1,large:!1},{ref:2,mode:"i",x2:1.328,y2:2.828,sweep:!0,large:!1}],text:{x:.766,y:2.31}},{sets:[0,1,2,3],x1:0,y1:.188,arcs:[{ref:2,mode:"i",x2:.969,y2:1.755,sweep:!0,large:!1},{ref:0,mode:"i",x2:0,y2:2.346,sweep:!0,large:!1},{ref:3,mode:"i",x2:-.969,y2:1.755,sweep:!0,large:!1},{ref:1,mode:"i",x2:0,y2:.188,sweep:!0}],text:{x:0,y:1.43}}],pt={x:-6.5,y:-5,width:13,height:10},gt={sets:dt,intersections:mt,bb:pt},ht=[{cx:.5,cy:-1,rx:2.5,ry:5,rotation:0,text:{x:2.25,y:-5},icon:{x:0,y:-6.3},align:"start",verticalAlign:"bottom"},{cx:1.106,cy:.167,rx:2.5,ry:5,rotation:72,text:{x:4.5,y:1.5},icon:{x:6.2,y:-1.9},align:"start",verticalAlign:"top"},{cx:.183,cy:1.103,rx:2.5,ry:5,rotation:144,icon:{x:3.2,y:6},text:{x:4,y:4},align:"start",verticalAlign:"bottom"},{cx:-.992,cy:.515,rx:2.5,ry:5,rotation:216,icon:{x:-4.4,y:5.2},text:{x:-4.7,y:2},align:"end",verticalAlign:"bottom"},{cx:-.797,cy:-.785,rx:2.5,ry:5,rotation:288,icon:{x:-6,y:-2},text:{x:-4,y:-3.6},align:"end",verticalAlign:"bottom"}],wt=[{sets:[0],x1:-1.653,y1:-3.541,arcs:[{ref:0,mode:"i",x2:2.857,y2:-2.666,sweep:!0,large:!1},{ref:1,mode:"o",x2:2.5,y2:-2.648,large:!1},{ref:3,mode:"o",x2:-.495,y2:-3.303,large:!1},{ref:4,mode:"o",x2:-1.653,y2:-3.541}],text:{x:.5,y:-5}},{sets:[1],x1:2.857,y1:-2.666,arcs:[{ref:1,mode:"i",x2:3.419,y2:1.893,sweep:!0,large:!1},{ref:2,mode:"o",x2:3.291,y2:1.559,large:!1},{ref:4,mode:"o",x2:2.988,y2:-1.492,large:!1},{ref:0,mode:"o",x2:2.857,y2:-2.666}],text:{x:4.91,y:-1.07}},{sets:[2],x1:3.419,y1:1.893,arcs:[{ref:2,mode:"i",x2:-.744,y2:3.837,sweep:!0,large:!1},{ref:3,mode:"o",x2:-.466,y2:3.612,large:!1},{ref:0,mode:"o",x2:2.342,y2:2.381,large:!1},{ref:1,mode:"o",x2:3.419,y2:1.893}],text:{x:2.534,y:4.339}},{sets:[3],x1:-.744,y1:3.837,arcs:[{ref:3,mode:"i",x2:-3.879,y2:.478,sweep:!0,large:!1},{ref:4,mode:"o",x2:-3.579,y2:.673,large:!1},{ref:1,mode:"o",x2:-1.54,y2:2.963,large:!1},{ref:2,mode:"o",x2:-.744,y2:3.837}],text:{x:-3.343,y:3.751}},{sets:[4],x1:-3.879,y1:.478,arcs:[{ref:4,mode:"i",x2:-1.653,y2:-3.541,sweep:!0,large:!1},{ref:0,mode:"o",x2:-1.746,y2:-3.196,large:!1},{ref:2,mode:"o",x2:-3.294,y2:-.549,large:!1},{ref:3,mode:"o",x2:-3.879,y2:.478}],text:{x:-4.601,y:-2.021}},{sets:[0,1],x1:2.5,y1:-2.648,arcs:[{ref:1,mode:"i",x2:2.857,y2:-2.666,sweep:!0,large:!1},{ref:0,mode:"i",x2:2.988,y2:-1.492,sweep:!0,large:!1},{ref:4,mode:"o",x2:2.572,y2:-1.839,large:!1},{ref:3,mode:"o",x2:2.5,y2:-2.648}],text:{x:2.741,y:-2.152}},{sets:[0,2],x1:2.342,y1:2.381,arcs:[{ref:0,mode:"i",x2:-.466,y2:3.612,sweep:!0,large:!1},{ref:3,mode:"o",x2:.257,y2:2.922,large:!1},{ref:1,mode:"o",x2:2.342,y2:2.381,large:!1}],text:{x:.5,y:3.5}},{sets:[0,3],x1:-.495,y1:-3.303,arcs:[{ref:3,mode:"i",x2:2.5,y2:-2.648,sweep:!0,large:!1},{ref:1,mode:"o",x2:1.51,y2:-2.515,large:!1},{ref:4,mode:"o",x2:-.495,y2:-3.303,large:!1}],text:{x:1.653,y:-3.125}},{sets:[0,4],x1:-1.653,y1:-3.541,arcs:[{ref:4,mode:"i",x2:-.495,y2:-3.303,sweep:!0,large:!1},{ref:3,mode:"o",x2:-.954,y2:-3.015,large:!1},{ref:2,mode:"o",x2:-1.746,y2:-3.196,large:!1},{ref:0,mode:"i",x2:-1.653,y2:-3.541}],text:{x:-1.199,y:-3.272}},{sets:[1,2],x1:3.291,y1:1.559,arcs:[{ref:2,mode:"i",x2:3.419,y2:1.893,sweep:!0,large:!1},{ref:1,mode:"i",x2:2.342,y2:2.381,sweep:!0,large:!1},{ref:0,mode:"o",x2:2.544,y2:1.878,large:!1},{ref:4,mode:"o",x2:3.291,y2:1.559}],text:{x:2.894,y:1.942}},{sets:[1,3],x1:-1.54,y1:2.963,arcs:[{ref:1,mode:"i",x2:-3.579,y2:.673,sweep:!0,large:!1},{ref:4,mode:"o",x2:-2.7,y2:1.147,large:!1},{ref:2,mode:"o",x2:-1.54,y2:2.963,large:!1}],text:{x:-3.174,y:1.557}},{sets:[1,4],x1:2.988,y1:-1.492,arcs:[{ref:4,mode:"i",x2:3.291,y2:1.559,sweep:!0,large:!1},{ref:2,mode:"o",x2:2.858,y2:.659,large:!1},{ref:0,mode:"o",x2:2.988,y2:-1.492,large:!1}],text:{x:3.483,y:.606}},{sets:[2,3],x1:-.466,y1:3.612,arcs:[{ref:3,mode:"i",x2:-.744,y2:3.837,sweep:!0,large:!1},{ref:2,mode:"i",x2:-1.54,y2:2.963,sweep:!0,large:!1},{ref:1,mode:"o",x2:-1,y2:3,large:!1},{ref:0,mode:"o",x2:-.466,y2:3.612}],text:{x:-.953,y:3.352}},{sets:[2,4],x1:-3.294,y1:-.549,arcs:[{ref:2,mode:"i",x2:-1.746,y2:-3.196,sweep:!0},{ref:0,mode:"o",x2:-1.925,y2:-2.213},{ref:3,mode:"o",x2:-3.294,y2:-.549}],text:{x:-2.462,y:-2.538}},{sets:[3,4],x1:-3.579,y1:.673,arcs:[{ref:4,mode:"i",x2:-3.879,y2:.478,sweep:!0,large:!1},{ref:3,mode:"i",x2:-3.294,y2:-.549,sweep:!0,large:!1},{ref:2,mode:"o",x2:-3.162,y2:-.024,large:!1},{ref:1,mode:"o",x2:-3.579,y2:.673}],text:{x:-3.483,y:.13}},{sets:[0,1,2],x1:2.544,y1:1.878,arcs:[{ref:0,mode:"i",x2:2.342,y2:2.381,sweep:!0,large:!1},{ref:1,mode:"i",x2:.257,y2:2.922,sweep:!0,large:!1},{ref:3,mode:"o",x2:.983,y2:2.049,large:!1},{ref:4,mode:"o",x2:2.544,y2:1.878}],text:{x:1.457,y:2.331}},{sets:[0,1,3],x1:1.51,y1:-2.515,arcs:[{ref:1,mode:"i",x2:2.5,y2:-2.648,sweep:!0,large:!1},{ref:3,mode:"i",x2:2.572,y2:-1.839,sweep:!0,large:!1},{ref:4,mode:"o",x2:1.51,y2:-2.515,large:!1}],text:{x:2.194,y:-2.334}},{sets:[0,1,4],x1:2.572,y1:-1.839,arcs:[{ref:4,mode:"i",x2:2.988,y2:-1.492,sweep:!0,large:!1},{ref:0,mode:"i",x2:2.858,y2:.659,sweep:!0,large:!1},{ref:2,mode:"o",x2:2.253,y2:-.302,large:!1},{ref:3,mode:"o",x2:2.572,y2:-1.839}],text:{x:2.667,y:-.665}},{sets:[0,2,3],x1:.257,y1:2.922,arcs:[{ref:3,mode:"i",x2:-.466,y2:3.612,sweep:!0,large:!1},{ref:0,mode:"i",x2:-1,y2:3,sweep:!0,large:!1},{ref:1,mode:"o",x2:.257,y2:2.922,large:!1}],text:{x:-.403,y:3.178}},{sets:[0,2,4],x1:-1.746,y1:-3.196,arcs:[{ref:2,mode:"i",x2:-.954,y2:-3.015,sweep:!0,large:!1},{ref:3,mode:"o",x2:-1.925,y2:-2.213,sweep:!1,large:!1},{ref:0,mode:"i",x2:-1.746,y2:-3.196,sweep:!0,large:!1}],text:{x:-1.542,y:-2.808}},{sets:[0,3,4],x1:-.495,y1:-3.303,arcs:[{ref:4,mode:"i",x2:1.51,y2:-2.515,sweep:!0,large:!1},{ref:1,mode:"o",x2:.409,y2:-2.236,large:!1},{ref:2,mode:"o",x2:-.954,y2:-3.015,large:!1},{ref:3,mode:"i",x2:-.495,y2:-3.303}],text:{x:.192,y:-2.742}},{sets:[1,2,3],x1:-1.54,y1:2.963,arcs:[{ref:2,mode:"i",x2:-2.7,y2:1.147,sweep:!0,large:!1},{ref:4,mode:"o",x2:-1.645,y2:1.568,large:!1},{ref:0,mode:"o",x2:-1,y2:3,large:!1},{ref:1,mode:"i",x2:-1.54,y2:2.963}],text:{x:-1.767,y:2.106}},{sets:[1,2,4],x1:2.858,y1:.659,arcs:[{ref:2,mode:"i",x2:3.291,y2:1.559,sweep:!0,large:!1},{ref:4,mode:"i",x2:2.544,y2:1.878,sweep:!0,large:!1},{ref:0,mode:"o",x2:2.858,y2:.659,large:!1}],text:{x:2.898,y:1.365}},{sets:[1,3,4],x1:-2.7,y1:1.147,arcs:[{ref:4,mode:"i",x2:-3.579,y2:.673,sweep:!0,large:!1},{ref:1,mode:"i",x2:-3.162,y2:-.024,sweep:!0,large:!1},{ref:2,mode:"o",x2:-2.7,y2:1.147,large:!1}],text:{x:-3.147,y:.599}},{sets:[2,3,4],x1:-3.294,y1:-.549,arcs:[{ref:3,mode:"i",x2:-1.925,y2:-2.213,sweep:!0,large:!1},{ref:0,mode:"o",x2:-2,y2:-1.08,large:!1},{ref:1,mode:"o",x2:-3.162,y2:-.024,large:!1},{ref:2,mode:"i",x2:-3.294,y2:-.549}],text:{x:-2.548,y:-1.029}},{sets:[0,1,2,3],x1:.983,y1:2.049,arcs:[{ref:3,mode:"i",x2:.257,y2:2.922,sweep:!0,large:!1},{ref:1,mode:"i",x2:-1,y2:3,sweep:!0,large:!1},{ref:0,mode:"i",x2:-1.645,y2:1.568,sweep:!0,large:!1},{ref:4,mode:"o",x2:.983,y2:2.049}],text:{x:-.407,y:2.31}},{sets:[0,1,2,4],x1:2.253,y1:-.302,arcs:[{ref:2,mode:"i",x2:2.858,y2:.659,sweep:!0,large:!1},{ref:0,mode:"i",x2:2.544,y2:1.878,sweep:!0,large:!1},{ref:4,mode:"i",x2:.983,y2:2.049,sweep:!0,large:!1},{ref:3,mode:"o",x2:2.253,y2:-.302}],text:{x:2.071,y:1.101}},{sets:[0,1,3,4],x1:1.51,y1:-2.515,arcs:[{ref:4,mode:"i",x2:2.572,y2:-1.839,sweep:!0,large:!1},{ref:3,mode:"i",x2:2.253,y2:-.302,sweep:!0,large:!1},{ref:2,mode:"o",x2:.409,y2:-2.236,sweep:!1,large:!1},{ref:1,mode:"i",x2:1.51,y2:-2.515,sweep:!0}],text:{x:1.687,y:-1.63}},{sets:[0,2,3,4],x1:-2,y1:-1.08,arcs:[{ref:0,mode:"i",x2:-1.925,y2:-2.213,sweep:!0,large:!1},{ref:3,mode:"i",x2:-.954,y2:-3.015,sweep:!0,large:!1},{ref:2,mode:"i",x2:.409,y2:-2.236,sweep:!0,large:!1},{ref:1,mode:"o",x2:-2,y2:-1.08}],text:{x:-1.028,y:-2.108}},{sets:[1,2,3,4],x1:-1.645,y1:1.568,arcs:[{ref:4,mode:"i",x2:-2.7,y2:1.147,sweep:!0,large:!1},{ref:2,mode:"i",x2:-3.162,y2:-.024,sweep:!0,large:!1},{ref:1,mode:"i",x2:-2,y2:-1.08,sweep:!0,large:!1},{ref:0,mode:"o",x2:-1.645,y2:1.568}],text:{x:-2.323,y:.327}},{sets:[0,1,2,3,4],x1:.409,y1:-2.236,arcs:[{ref:2,mode:"i",x2:2.253,y2:-.302,sweep:!0,large:!1},{ref:3,mode:"i",x2:.983,y2:2.049,sweep:!0,large:!1},{ref:4,mode:"i",x2:-1.645,y2:1.568,sweep:!0,large:!1},{ref:0,mode:"i",x2:-2,y2:-1.08,sweep:!0},{ref:1,mode:"i",x2:.409,y2:-2.236,sweep:!0}],text:{x:0,y:0}}],vt={x:-5.5,y:-6,width:11.6,height:11.8},bt={sets:ht,intersections:wt,bb:vt},oe=[tt,at,ft,xt,gt,bt],Vt=e=>Array.from({length:e},(s,r)=>r);function L(e){return typeof e.rx=="number"}function Mt(e){return new Array(1<<e.length).fill().map((s,r)=>e.filter((t,n)=>r&1<<n))}function qt(e,s){const r=e.join("|"),t=s.find(n=>n.key===r);return{key:r,sets:e,size:(t==null?void 0:t.size)||0}}function St(e){const s=e.filter(o=>o.sets.length===1).sort((o,f)=>f.size-o.size),r=s.map(o=>o.key),t=Mt(r),a=t.slice(1,t.length).map(o=>[...o].sort((f,c)=>r.indexOf(f)-r.indexOf(c)));a.sort((o,f)=>o.length-f.length||Vt(o.length).reduce((c,l)=>c||r.indexOf(o[l])-r.indexOf(f[l]),0));const i=e.map(o=>{const f=[...o.sets].sort((l,u)=>r.indexOf(l)-r.indexOf(u)),c=f.join("|");return{size:o.size,sets:f,key:c}});return{uniqueCount:s.length,data:a.map(o=>qt(o,i))}}function At(e,s){return`M ${e.x1},${e.y1} ${e.arcs.map(r=>{const t=s[r.ref],n=L(t)?t.rx:t.r,a=L(t)?t.ry:t.r,i=L(t)?t.rotation:0;return`A ${n} ${a} ${i} ${r.large?1:0} ${r.sweep?1:0} ${r.x2} ${r.y2}`}).join(" ")}`}function It({data:e,uniqueCount:s},r){const t=oe[Math.min(oe.length-1,s)],n=Math.min(r.width/t.bb.width,r.height/t.bb.height),a=n*-t.bb.x+(r.width-n*t.bb.width)/2+0,i=n*-t.bb.y+(r.height-n*t.bb.height)/2+0,o=u=>a+n*u,f=u=>i+n*u,c=t.sets.map((u,y)=>({...u,data:e[y],cx:o(u.cx),cy:f(u.cy),text:{x:o(u.text.x),y:f(u.text.y)},...u.icon?{icon:{x:o(u.icon.x),y:f(u.icon.y)}}:{},...L(u)?{rx:u.rx*n,ry:u.ry*n}:{r:u.r*n}}));return t.intersections.map((u,y)=>({text:{x:o(u.text.x),y:f(u.text.y)},x1:o(u.x1),y1:f(u.y1),data:e[y],set:c[y],arcs:u.arcs.map(x=>({...x,x2:o(x.x2),y2:f(x.y2)}))})).map(u=>({...u,path:At(u,c)}))}function kt(e,s){return It(St(e),s)}const te=({id:e,type:s,width:r,height:t,margins:n,className:a,containerClassName:i,data:o,disabled:f,series:c})=>{const l=I.useCallback(u=>{const y=o.map(d=>({key:d.key.join("|"),sets:d.key,size:d.data}));let x;return s==="starEuler"?x=kt(y,{height:u.height,width:u.width}):x=Ke(y,{height:u.height,width:u.width,distinct:s!=="euler"}),M(O,{element:c,data:x,disabled:f,id:u.id})},[o,f,c,s]);return M(we,{id:e,width:r,height:t,margins:n,containerClassName:i,xAxisVisible:!1,yAxisVisible:!1,center:!1,className:a,children:l})};te.defaultProps={type:"venn",series:M(G,{})};try{te.displayName="VennDiagram",te.__docgenInfo={description:"",displayName:"VennDiagram",props:{type:{defaultValue:{value:"venn"},description:"Type of the chart.",name:"type",required:!1,type:{name:"enum",value:[{value:'"venn"'},{value:'"euler"'},{value:'"starEuler"'}]}},data:{defaultValue:null,description:"Data the chart will receive to render.",name:"data",required:!0,type:{name:"VennDiagramData[]"}},series:{defaultValue:{value:"<VennSeries />"},description:"The series component that renders the arc and label components.",name:"series",required:!1,type:{name:"ReactElement<VennSeriesProps, FC<Partial<VennSeriesProps>>>"}},disabled:{defaultValue:null,description:"Whether the chart is disabled.",name:"disabled",required:!1,type:{name:"boolean"}},id:{defaultValue:null,description:"Id of the chart.",name:"id",required:!1,type:{name:"string"}},width:{defaultValue:null,description:"Width of the chart. If not provided will autosize.",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"Height of the chart. If not provided will autosize.",name:"height",required:!1,type:{name:"number"}},margins:{defaultValue:null,description:"Margins for the chart.",name:"margins",required:!1,type:{name:"Margins"}},className:{defaultValue:null,description:"Classnames for the chart.",name:"className",required:!1,type:{name:"string"}},containerClassName:{defaultValue:null,description:"Classnames for the chart.",name:"containerClassName",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"Additional css styles.",name:"style",required:!1,type:{name:"StyleHTMLAttributes<SVGSVGElement>"}},center:{defaultValue:null,description:"Center the chart. Used mainly internally.",name:"center",required:!1,type:{name:"boolean"}},centerX:{defaultValue:null,description:"Center chart on X Axis only. Used mainly internally.",name:"centerX",required:!1,type:{name:"boolean"}},centerY:{defaultValue:null,description:"Center chart on Y Axis only. Used mainly internally.",name:"centerY",required:!1,type:{name:"boolean"}}}}}catch{}export{te as V,G as a,D as b,T as c,N as d};
