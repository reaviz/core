import{j as un,a as Rt}from"./jsx-runtime-86dfebf6.js";import{r as Q}from"./index-1b03fe98.js";import{e as $t,h as Wt,c as Jt,t as Kt}from"./schemes-56affe43.js";import{C as Qt}from"./rdk-0beed5d4.js";import"./RadialValueMarker-7b3f8322.js";import"./RadialAxis-6c2bc59c.js";import"./chroma-699b8ba0.js";import"./DiscreteLegendEntry-49610185.js";import"./SequentialLegend-1647127f.js";import"./range-163cdb4a.js";import"./index-256d607f.js";import"./Count-a38a1947.js";class nn{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const i=this._partials;let e=0;for(let r=0;r<this._n&&r<32;r++){const u=i[r],f=t+u,l=Math.abs(t)<Math.abs(u)?t-(f-u):u-(f-t);l&&(i[e++]=l),t=f}return i[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let i=this._n,e,r,u,f=0;if(i>0){for(f=t[--i];i>0&&(e=f,r=t[--i],f=e+r,u=r-(f-e),!u););i>0&&(u<0&&t[i-1]<0||u>0&&t[i-1]>0)&&(r=u*2,e=f+r,r==e-f&&(f=e))}return f}}function*jt(n){for(const t of n)yield*t}function Ct(n){return Array.from(jt(n))}var A=1e-6,bt=1e-12,R=Math.PI,H=R/2,it=R/4,Z=R*2,O=180/R,D=R/180,z=Math.abs,qt=Math.atan,vn=Math.atan2,T=Math.cos,ne=Math.exp,te=Math.log,F=Math.sin,ee=Math.sign||function(n){return n>0?1:n<0?-1:0},en=Math.sqrt,ie=Math.tan;function re(n){return n>1?0:n<-1?R:Math.acos(n)}function mn(n){return n>1?H:n<-1?-H:Math.asin(n)}function U(){}function Nn(n,t){n&&ot.hasOwnProperty(n.type)&&ot[n.type](n,t)}var rt={Feature:function(n,t){Nn(n.geometry,t)},FeatureCollection:function(n,t){for(var i=n.features,e=-1,r=i.length;++e<r;)Nn(i[e].geometry,t)}},ot={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var i=n.coordinates,e=-1,r=i.length;++e<r;)n=i[e],t.point(n[0],n[1],n[2])},LineString:function(n,t){Xn(n.coordinates,t,0)},MultiLineString:function(n,t){for(var i=n.coordinates,e=-1,r=i.length;++e<r;)Xn(i[e],t,0)},Polygon:function(n,t){ut(n.coordinates,t)},MultiPolygon:function(n,t){for(var i=n.coordinates,e=-1,r=i.length;++e<r;)ut(i[e],t)},GeometryCollection:function(n,t){for(var i=n.geometries,e=-1,r=i.length;++e<r;)Nn(i[e],t)}};function Xn(n,t,i){var e=-1,r=n.length-i,u;for(t.lineStart();++e<r;)u=n[e],t.point(u[0],u[1],u[2]);t.lineEnd()}function ut(n,t){var i=-1,e=n.length;for(t.polygonStart();++i<e;)Xn(n[i],t,1);t.polygonEnd()}function on(n,t){n&&rt.hasOwnProperty(n.type)?rt[n.type](n,t):Nn(n,t)}function Yn(n){return[vn(n[1],n[0]),mn(n[2])]}function an(n){var t=n[0],i=n[1],e=T(i);return[e*T(t),e*F(t),F(i)]}function En(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function Rn(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Ln(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function Mn(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function Gn(n){var t=en(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function Hn(n,t){function i(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(i.invert=function(e,r){return e=t.invert(e,r),e&&n.invert(e[0],e[1])}),i}function On(n,t){return z(n)>R&&(n-=Math.round(n/Z)*Z),[n,t]}On.invert=On;function Vt(n,t,i){return(n%=Z)?t||i?Hn(at(n),ft(t,i)):at(n):t||i?ft(t,i):On}function lt(n){return function(t,i){return t+=n,z(t)>R&&(t-=Math.round(t/Z)*Z),[t,i]}}function at(n){var t=lt(n);return t.invert=lt(-n),t}function ft(n,t){var i=T(n),e=F(n),r=T(t),u=F(t);function f(l,g){var d=T(g),o=T(l)*d,a=F(l)*d,c=F(g),h=c*i+o*e;return[vn(a*r-h*u,o*i-c*e),mn(h*r+a*u)]}return f.invert=function(l,g){var d=T(g),o=T(l)*d,a=F(l)*d,c=F(g),h=c*r-a*u;return[vn(a*r+c*u,o*i+h*e),mn(h*i-o*e)]},f}function oe(n){n=Vt(n[0]*D,n[1]*D,n.length>2?n[2]*D:0);function t(i){return i=n(i[0]*D,i[1]*D),i[0]*=O,i[1]*=O,i}return t.invert=function(i){return i=n.invert(i[0]*D,i[1]*D),i[0]*=O,i[1]*=O,i},t}function ue(n,t,i,e,r,u){if(i){var f=T(t),l=F(t),g=e*i;r==null?(r=t+e*Z,u=t-g/2):(r=ct(f,r),u=ct(f,u),(e>0?r<u:r>u)&&(r+=e*Z));for(var d,o=r;e>0?o>u:o<u;o-=g)d=Yn([f,-l*T(o),-l*F(o)]),n.point(d[0],d[1])}}function ct(n,t){t=an(t),t[0]-=n,Gn(t);var i=re(-t[1]);return((-t[2]<0?-i:i)+Z-A)%Z}function At(){var n=[],t;return{point:function(i,e,r){t.push([i,e,r])},lineStart:function(){n.push(t=[])},lineEnd:U,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var i=n;return n=[],t=null,i}}}function Pn(n,t){return z(n[0]-t[0])<A&&z(n[1]-t[1])<A}function _n(n,t,i,e){this.x=n,this.z=t,this.o=i,this.e=e,this.v=!1,this.n=this.p=null}function It(n,t,i,e,r){var u=[],f=[],l,g;if(n.forEach(function(s){if(!((m=s.length-1)<=0)){var m,v=s[0],E=s[m],S;if(Pn(v,E)){if(!v[2]&&!E[2]){for(r.lineStart(),l=0;l<m;++l)r.point((v=s[l])[0],v[1]);r.lineEnd();return}E[0]+=2*A}u.push(S=new _n(v,s,null,!0)),f.push(S.o=new _n(v,null,S,!1)),u.push(S=new _n(E,s,null,!1)),f.push(S.o=new _n(E,null,S,!0))}}),!!u.length){for(f.sort(t),st(u),st(f),l=0,g=f.length;l<g;++l)f[l].e=i=!i;for(var d=u[0],o,a;;){for(var c=d,h=!0;c.v;)if((c=c.n)===d)return;o=c.z,r.lineStart();do{if(c.v=c.o.v=!0,c.e){if(h)for(l=0,g=o.length;l<g;++l)r.point((a=o[l])[0],a[1]);else e(c.x,c.n.x,1,r);c=c.n}else{if(h)for(o=c.p.z,l=o.length-1;l>=0;--l)r.point((a=o[l])[0],a[1]);else e(c.x,c.p.x,-1,r);c=c.p}c=c.o,o=c.z,h=!h}while(!c.v);r.lineEnd()}}}function st(n){if(t=n.length){for(var t,i=0,e=n[0],r;++i<t;)e.n=r=n[i],r.p=e,e=r;e.n=r=n[0],r.p=e}}function Tn(n){return z(n[0])<=R?n[0]:ee(n[0])*((z(n[0])+R)%Z-R)}function le(n,t){var i=Tn(t),e=t[1],r=F(e),u=[F(i),-T(i),0],f=0,l=0,g=new nn;r===1?e=H+A:r===-1&&(e=-H-A);for(var d=0,o=n.length;d<o;++d)if(c=(a=n[d]).length)for(var a,c,h=a[c-1],s=Tn(h),m=h[1]/2+it,v=F(m),E=T(m),S=0;S<c;++S,s=y,v=P,E=q,h=_){var _=a[S],y=Tn(_),w=_[1]/2+it,P=F(w),q=T(w),$=y-s,C=$>=0?1:-1,I=C*$,M=I>R,Y=v*P;if(g.add(vn(Y*C*F(I),E*q+Y*T(I))),f+=M?$+C*Z:$,M^s>=i^y>=i){var L=Rn(an(h),an(_));Gn(L);var V=Rn(u,L);Gn(V);var p=(M^$>=0?-1:1)*mn(V[2]);(e>p||e===p&&(L[0]||L[1]))&&(l+=M^$>=0?1:-1)}}return(f<-A||f<A&&g<-bt)^l&1}function zt(n,t,i,e){return function(r){var u=t(r),f=At(),l=t(f),g=!1,d,o,a,c={point:h,lineStart:m,lineEnd:v,polygonStart:function(){c.point=E,c.lineStart=S,c.lineEnd=_,o=[],d=[]},polygonEnd:function(){c.point=h,c.lineStart=m,c.lineEnd=v,o=Ct(o);var y=le(d,e);o.length?(g||(r.polygonStart(),g=!0),It(o,fe,y,i,r)):y&&(g||(r.polygonStart(),g=!0),r.lineStart(),i(null,null,1,r),r.lineEnd()),g&&(r.polygonEnd(),g=!1),o=d=null},sphere:function(){r.polygonStart(),r.lineStart(),i(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function h(y,w){n(y,w)&&r.point(y,w)}function s(y,w){u.point(y,w)}function m(){c.point=s,u.lineStart()}function v(){c.point=h,u.lineEnd()}function E(y,w){a.push([y,w]),l.point(y,w)}function S(){l.lineStart(),a=[]}function _(){E(a[0][0],a[0][1]),l.lineEnd();var y=l.clean(),w=f.result(),P,q=w.length,$,C,I;if(a.pop(),d.push(a),a=null,!!q){if(y&1){if(C=w[0],($=C.length-1)>0){for(g||(r.polygonStart(),g=!0),r.lineStart(),P=0;P<$;++P)r.point((I=C[P])[0],I[1]);r.lineEnd()}return}q>1&&y&2&&w.push(w.pop().concat(w.shift())),o.push(w.filter(ae))}}return c}}function ae(n){return n.length>1}function fe(n,t){return((n=n.x)[0]<0?n[1]-H-A:H-n[1])-((t=t.x)[0]<0?t[1]-H-A:H-t[1])}const pt=zt(function(){return!0},ce,pe,[-R,-H]);function ce(n){var t=NaN,i=NaN,e=NaN,r;return{lineStart:function(){n.lineStart(),r=1},point:function(u,f){var l=u>0?R:-R,g=z(u-t);z(g-R)<A?(n.point(t,i=(i+f)/2>0?H:-H),n.point(e,i),n.lineEnd(),n.lineStart(),n.point(l,i),n.point(u,i),r=0):e!==l&&g>=R&&(z(t-e)<A&&(t-=e*A),z(u-l)<A&&(u-=l*A),i=se(t,i,u,f),n.point(e,i),n.lineEnd(),n.lineStart(),n.point(l,i),r=0),n.point(t=u,i=f),e=l},lineEnd:function(){n.lineEnd(),t=i=NaN},clean:function(){return 2-r}}}function se(n,t,i,e){var r,u,f=F(n-i);return z(f)>A?qt((F(t)*(u=T(e))*F(i)-F(e)*(r=T(t))*F(n))/(r*u*f)):(t+e)/2}function pe(n,t,i,e){var r;if(n==null)r=i*H,e.point(-R,r),e.point(0,r),e.point(R,r),e.point(R,0),e.point(R,-r),e.point(0,-r),e.point(-R,-r),e.point(-R,0),e.point(-R,r);else if(z(n[0]-t[0])>A){var u=n[0]<t[0]?R:-R;r=i*u/2,e.point(-u,r),e.point(0,r),e.point(u,r)}else e.point(t[0],t[1])}function he(n){var t=T(n),i=6*D,e=t>0,r=z(t)>A;function u(o,a,c,h){ue(h,n,i,c,o,a)}function f(o,a){return T(o)*T(a)>t}function l(o){var a,c,h,s,m;return{lineStart:function(){s=h=!1,m=1},point:function(v,E){var S=[v,E],_,y=f(v,E),w=e?y?0:d(v,E):y?d(v+(v<0?R:-R),E):0;if(!a&&(s=h=y)&&o.lineStart(),y!==h&&(_=g(a,S),(!_||Pn(a,_)||Pn(S,_))&&(S[2]=1)),y!==h)m=0,y?(o.lineStart(),_=g(S,a),o.point(_[0],_[1])):(_=g(a,S),o.point(_[0],_[1],2),o.lineEnd()),a=_;else if(r&&a&&e^y){var P;!(w&c)&&(P=g(S,a,!0))&&(m=0,e?(o.lineStart(),o.point(P[0][0],P[0][1]),o.point(P[1][0],P[1][1]),o.lineEnd()):(o.point(P[1][0],P[1][1]),o.lineEnd(),o.lineStart(),o.point(P[0][0],P[0][1],3)))}y&&(!a||!Pn(a,S))&&o.point(S[0],S[1]),a=S,h=y,c=w},lineEnd:function(){h&&o.lineEnd(),a=null},clean:function(){return m|(s&&h)<<1}}}function g(o,a,c){var h=an(o),s=an(a),m=[1,0,0],v=Rn(h,s),E=En(v,v),S=v[0],_=E-S*S;if(!_)return!c&&o;var y=t*E/_,w=-t*S/_,P=Rn(m,v),q=Mn(m,y),$=Mn(v,w);Ln(q,$);var C=P,I=En(q,C),M=En(C,C),Y=I*I-M*(En(q,q)-1);if(!(Y<0)){var L=en(Y),V=Mn(C,(-I-L)/M);if(Ln(V,q),V=Yn(V),!c)return V;var p=o[0],N=a[0],X=o[1],G=a[1],B;N<p&&(B=p,p=N,N=B);var cn=N-p,J=z(cn-R)<A,b=J||cn<A;if(!J&&G<X&&(B=X,X=G,G=B),b?J?X+G>0^V[1]<(z(V[0]-p)<A?X:G):X<=V[1]&&V[1]<=G:cn>R^(p<=V[0]&&V[0]<=N)){var K=Mn(C,(-I+L)/M);return Ln(K,q),[V,Yn(K)]}}}function d(o,a){var c=e?n:R-n,h=0;return o<-c?h|=1:o>c&&(h|=2),a<-c?h|=4:a>c&&(h|=8),h}return zt(f,l,u,e?[0,-n]:[-R,n-R])}function de(n,t,i,e,r,u){var f=n[0],l=n[1],g=t[0],d=t[1],o=0,a=1,c=g-f,h=d-l,s;if(s=i-f,!(!c&&s>0)){if(s/=c,c<0){if(s<o)return;s<a&&(a=s)}else if(c>0){if(s>a)return;s>o&&(o=s)}if(s=r-f,!(!c&&s<0)){if(s/=c,c<0){if(s>a)return;s>o&&(o=s)}else if(c>0){if(s<o)return;s<a&&(a=s)}if(s=e-l,!(!h&&s>0)){if(s/=h,h<0){if(s<o)return;s<a&&(a=s)}else if(h>0){if(s>a)return;s>o&&(o=s)}if(s=u-l,!(!h&&s<0)){if(s/=h,h<0){if(s>a)return;s>o&&(o=s)}else if(h>0){if(s<o)return;s<a&&(a=s)}return o>0&&(n[0]=f+o*c,n[1]=l+o*h),a<1&&(t[0]=f+a*c,t[1]=l+a*h),!0}}}}}var sn=1e9,wn=-sn;function ge(n,t,i,e){function r(d,o){return n<=d&&d<=i&&t<=o&&o<=e}function u(d,o,a,c){var h=0,s=0;if(d==null||(h=f(d,a))!==(s=f(o,a))||g(d,o)<0^a>0)do c.point(h===0||h===3?n:i,h>1?e:t);while((h=(h+a+4)%4)!==s);else c.point(o[0],o[1])}function f(d,o){return z(d[0]-n)<A?o>0?0:3:z(d[0]-i)<A?o>0?2:1:z(d[1]-t)<A?o>0?1:0:o>0?3:2}function l(d,o){return g(d.x,o.x)}function g(d,o){var a=f(d,1),c=f(o,1);return a!==c?a-c:a===0?o[1]-d[1]:a===1?d[0]-o[0]:a===2?d[1]-o[1]:o[0]-d[0]}return function(d){var o=d,a=At(),c,h,s,m,v,E,S,_,y,w,P,q={point:$,lineStart:Y,lineEnd:L,polygonStart:I,polygonEnd:M};function $(p,N){r(p,N)&&o.point(p,N)}function C(){for(var p=0,N=0,X=h.length;N<X;++N)for(var G=h[N],B=1,cn=G.length,J=G[0],b,K,yn=J[0],rn=J[1];B<cn;++B)b=yn,K=rn,J=G[B],yn=J[0],rn=J[1],K<=e?rn>e&&(yn-b)*(e-K)>(rn-K)*(n-b)&&++p:rn<=e&&(yn-b)*(e-K)<(rn-K)*(n-b)&&--p;return p}function I(){o=a,c=[],h=[],P=!0}function M(){var p=C(),N=P&&p,X=(c=Ct(c)).length;(N||X)&&(d.polygonStart(),N&&(d.lineStart(),u(null,null,1,d),d.lineEnd()),X&&It(c,l,p,u,d),d.polygonEnd()),o=d,c=h=s=null}function Y(){q.point=V,h&&h.push(s=[]),w=!0,y=!1,S=_=NaN}function L(){c&&(V(m,v),E&&y&&a.rejoin(),c.push(a.result())),q.point=$,y&&o.lineEnd()}function V(p,N){var X=r(p,N);if(h&&s.push([p,N]),w)m=p,v=N,E=X,w=!1,X&&(o.lineStart(),o.point(p,N));else if(X&&y)o.point(p,N);else{var G=[S=Math.max(wn,Math.min(sn,S)),_=Math.max(wn,Math.min(sn,_))],B=[p=Math.max(wn,Math.min(sn,p)),N=Math.max(wn,Math.min(sn,N))];de(G,B,n,t,i,e)?(y||(o.lineStart(),o.point(G[0],G[1])),o.point(B[0],B[1]),X||o.lineEnd(),P=!1):X&&(o.lineStart(),o.point(p,N),P=!1)}S=p,_=N,y=X}return q}}const Zn=n=>n;var Fn=new nn,Bn=new nn,Lt,Tt,Un,kn,j={point:U,lineStart:U,lineEnd:U,polygonStart:function(){j.lineStart=ve,j.lineEnd=Se},polygonEnd:function(){j.lineStart=j.lineEnd=j.point=U,Fn.add(z(Bn)),Bn=new nn},result:function(){var n=Fn/2;return Fn=new nn,n}};function ve(){j.point=me}function me(n,t){j.point=Ft,Lt=Un=n,Tt=kn=t}function Ft(n,t){Bn.add(kn*n-Un*t),Un=n,kn=t}function Se(){Ft(Lt,Tt)}const ht=j;var fn=1/0,$n=fn,Sn=-fn,Cn=Sn,ye={point:Ee,lineStart:U,lineEnd:U,polygonStart:U,polygonEnd:U,result:function(){var n=[[fn,$n],[Sn,Cn]];return Sn=Cn=-($n=fn=1/0),n}};function Ee(n,t){n<fn&&(fn=n),n>Sn&&(Sn=n),t<$n&&($n=t),t>Cn&&(Cn=t)}const qn=ye;var xn=0,Wn=0,pn=0,Vn=0,An=0,ln=0,Jn=0,Kn=0,hn=0,Dt,Xt,x,W,k={point:tn,lineStart:dt,lineEnd:gt,polygonStart:function(){k.lineStart=we,k.lineEnd=Pe},polygonEnd:function(){k.point=tn,k.lineStart=dt,k.lineEnd=gt},result:function(){var n=hn?[Jn/hn,Kn/hn]:ln?[Vn/ln,An/ln]:pn?[xn/pn,Wn/pn]:[NaN,NaN];return xn=Wn=pn=Vn=An=ln=Jn=Kn=hn=0,n}};function tn(n,t){xn+=n,Wn+=t,++pn}function dt(){k.point=Me}function Me(n,t){k.point=_e,tn(x=n,W=t)}function _e(n,t){var i=n-x,e=t-W,r=en(i*i+e*e);Vn+=r*(x+n)/2,An+=r*(W+t)/2,ln+=r,tn(x=n,W=t)}function gt(){k.point=tn}function we(){k.point=Ne}function Pe(){Yt(Dt,Xt)}function Ne(n,t){k.point=Yt,tn(Dt=x=n,Xt=W=t)}function Yt(n,t){var i=n-x,e=t-W,r=en(i*i+e*e);Vn+=r*(x+n)/2,An+=r*(W+t)/2,ln+=r,r=W*n-x*t,Jn+=r*(x+n),Kn+=r*(W+t),hn+=r*3,tn(x=n,W=t)}const vt=k;function Gt(n){this._context=n}Gt.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._context.moveTo(n,t),this._point=1;break}case 1:{this._context.lineTo(n,t);break}default:{this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,Z);break}}},result:U};var Qn=new nn,Dn,Ht,Ot,dn,gn,In={point:U,lineStart:function(){In.point=Re},lineEnd:function(){Dn&&Zt(Ht,Ot),In.point=U},polygonStart:function(){Dn=!0},polygonEnd:function(){Dn=null},result:function(){var n=+Qn;return Qn=new nn,n}};function Re(n,t){In.point=Zt,Ht=dn=n,Ot=gn=t}function Zt(n,t){dn-=n,gn-=t,Qn.add(en(dn*dn+gn*gn)),dn=n,gn=t}const mt=In;let St,zn,yt,Et;class Mt{constructor(t){this._append=t==null?Bt:$e(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,i){switch(this._point){case 0:{this._append`M${t},${i}`,this._point=1;break}case 1:{this._append`L${t},${i}`;break}default:{if(this._append`M${t},${i}`,this._radius!==yt||this._append!==zn){const e=this._radius,r=this._;this._="",this._append`m0,${e}a${e},${e} 0 1,1 0,${-2*e}a${e},${e} 0 1,1 0,${2*e}z`,yt=e,zn=this._append,Et=this._,this._=r}this._+=Et;break}}}result(){const t=this._;return this._="",t.length?t:null}}function Bt(n){let t=1;this._+=n[0];for(const i=n.length;t<i;++t)this._+=arguments[t]+n[t]}function $e(n){const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);if(t>15)return Bt;if(t!==St){const i=10**t;St=t,zn=function(r){let u=1;this._+=r[0];for(const f=r.length;u<f;++u)this._+=Math.round(arguments[u]*i)/i+r[u]}}return zn}function Ce(n,t){let i=3,e=4.5,r,u;function f(l){return l&&(typeof e=="function"&&u.pointRadius(+e.apply(this,arguments)),on(l,r(u))),u.result()}return f.area=function(l){return on(l,r(ht)),ht.result()},f.measure=function(l){return on(l,r(mt)),mt.result()},f.bounds=function(l){return on(l,r(qn)),qn.result()},f.centroid=function(l){return on(l,r(vt)),vt.result()},f.projection=function(l){return arguments.length?(r=l==null?(n=null,Zn):(n=l).stream,f):n},f.context=function(l){return arguments.length?(u=l==null?(t=null,new Mt(i)):new Gt(t=l),typeof e!="function"&&u.pointRadius(e),f):t},f.pointRadius=function(l){return arguments.length?(e=typeof l=="function"?l:(u.pointRadius(+l),+l),f):e},f.digits=function(l){if(!arguments.length)return i;if(l==null)i=null;else{const g=Math.floor(l);if(!(g>=0))throw new RangeError(`invalid digits: ${l}`);i=g}return t===null&&(u=new Mt(i)),f},f.projection(n).digits(i).context(t)}function nt(n){return function(t){var i=new jn;for(var e in n)i[e]=n[e];return i.stream=t,i}}function jn(){}jn.prototype={constructor:jn,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function tt(n,t,i){var e=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),e!=null&&n.clipExtent(null),on(i,n.stream(qn)),t(qn.result()),e!=null&&n.clipExtent(e),n}function Ut(n,t,i){return tt(n,function(e){var r=t[1][0]-t[0][0],u=t[1][1]-t[0][1],f=Math.min(r/(e[1][0]-e[0][0]),u/(e[1][1]-e[0][1])),l=+t[0][0]+(r-f*(e[1][0]+e[0][0]))/2,g=+t[0][1]+(u-f*(e[1][1]+e[0][1]))/2;n.scale(150*f).translate([l,g])},i)}function qe(n,t,i){return Ut(n,[[0,0],t],i)}function Ve(n,t,i){return tt(n,function(e){var r=+t,u=r/(e[1][0]-e[0][0]),f=(r-u*(e[1][0]+e[0][0]))/2,l=-u*e[0][1];n.scale(150*u).translate([f,l])},i)}function Ae(n,t,i){return tt(n,function(e){var r=+t,u=r/(e[1][1]-e[0][1]),f=-u*e[0][0],l=(r-u*(e[1][1]+e[0][1]))/2;n.scale(150*u).translate([f,l])},i)}var _t=16,Ie=T(30*D);function wt(n,t){return+t?Le(n,t):ze(n)}function ze(n){return nt({point:function(t,i){t=n(t,i),this.stream.point(t[0],t[1])}})}function Le(n,t){function i(e,r,u,f,l,g,d,o,a,c,h,s,m,v){var E=d-e,S=o-r,_=E*E+S*S;if(_>4*t&&m--){var y=f+c,w=l+h,P=g+s,q=en(y*y+w*w+P*P),$=mn(P/=q),C=z(z(P)-1)<A||z(u-a)<A?(u+a)/2:vn(w,y),I=n(C,$),M=I[0],Y=I[1],L=M-e,V=Y-r,p=S*L-E*V;(p*p/_>t||z((E*L+S*V)/_-.5)>.3||f*c+l*h+g*s<Ie)&&(i(e,r,u,f,l,g,M,Y,C,y/=q,w/=q,P,m,v),v.point(M,Y),i(M,Y,C,y,w,P,d,o,a,c,h,s,m,v))}}return function(e){var r,u,f,l,g,d,o,a,c,h,s,m,v={point:E,lineStart:S,lineEnd:y,polygonStart:function(){e.polygonStart(),v.lineStart=w},polygonEnd:function(){e.polygonEnd(),v.lineStart=S}};function E($,C){$=n($,C),e.point($[0],$[1])}function S(){a=NaN,v.point=_,e.lineStart()}function _($,C){var I=an([$,C]),M=n($,C);i(a,c,o,h,s,m,a=M[0],c=M[1],o=$,h=I[0],s=I[1],m=I[2],_t,e),e.point(a,c)}function y(){v.point=E,e.lineEnd()}function w(){S(),v.point=P,v.lineEnd=q}function P($,C){_(r=$,C),u=a,f=c,l=h,g=s,d=m,v.point=_}function q(){i(a,c,o,h,s,m,u,f,r,l,g,d,_t,e),v.lineEnd=y,y()}return v}}var Te=nt({point:function(n,t){this.stream.point(n*D,t*D)}});function Fe(n){return nt({point:function(t,i){var e=n(t,i);return this.stream.point(e[0],e[1])}})}function De(n,t,i,e,r){function u(f,l){return f*=e,l*=r,[t+n*f,i-n*l]}return u.invert=function(f,l){return[(f-t)/n*e,(i-l)/n*r]},u}function Pt(n,t,i,e,r,u){if(!u)return De(n,t,i,e,r);var f=T(u),l=F(u),g=f*n,d=l*n,o=f/n,a=l/n,c=(l*i-f*t)/n,h=(l*t+f*i)/n;function s(m,v){return m*=e,v*=r,[g*m-d*v+t,i-d*m-g*v]}return s.invert=function(m,v){return[e*(o*m-a*v+c),r*(h-a*m-o*v)]},s}function kt(n){return Xe(function(){return n})()}function Xe(n){var t,i=150,e=480,r=250,u=0,f=0,l=0,g=0,d=0,o,a=0,c=1,h=1,s=null,m=pt,v=null,E,S,_,y=Zn,w=.5,P,q,$,C,I;function M(p){return $(p[0]*D,p[1]*D)}function Y(p){return p=$.invert(p[0],p[1]),p&&[p[0]*O,p[1]*O]}M.stream=function(p){return C&&I===p?C:C=Te(Fe(o)(m(P(y(I=p)))))},M.preclip=function(p){return arguments.length?(m=p,s=void 0,V()):m},M.postclip=function(p){return arguments.length?(y=p,v=E=S=_=null,V()):y},M.clipAngle=function(p){return arguments.length?(m=+p?he(s=p*D):(s=null,pt),V()):s*O},M.clipExtent=function(p){return arguments.length?(y=p==null?(v=E=S=_=null,Zn):ge(v=+p[0][0],E=+p[0][1],S=+p[1][0],_=+p[1][1]),V()):v==null?null:[[v,E],[S,_]]},M.scale=function(p){return arguments.length?(i=+p,L()):i},M.translate=function(p){return arguments.length?(e=+p[0],r=+p[1],L()):[e,r]},M.center=function(p){return arguments.length?(u=p[0]%360*D,f=p[1]%360*D,L()):[u*O,f*O]},M.rotate=function(p){return arguments.length?(l=p[0]%360*D,g=p[1]%360*D,d=p.length>2?p[2]%360*D:0,L()):[l*O,g*O,d*O]},M.angle=function(p){return arguments.length?(a=p%360*D,L()):a*O},M.reflectX=function(p){return arguments.length?(c=p?-1:1,L()):c<0},M.reflectY=function(p){return arguments.length?(h=p?-1:1,L()):h<0},M.precision=function(p){return arguments.length?(P=wt(q,w=p*p),V()):en(w)},M.fitExtent=function(p,N){return Ut(M,p,N)},M.fitSize=function(p,N){return qe(M,p,N)},M.fitWidth=function(p,N){return Ve(M,p,N)},M.fitHeight=function(p,N){return Ae(M,p,N)};function L(){var p=Pt(i,0,0,c,h,a).apply(null,t(u,f)),N=Pt(i,e-p[0],r-p[1],c,h,a);return o=Vt(l,g,d),q=Hn(t,N),$=Hn(o,q),P=wt(q,w),V()}function V(){return C=I=null,M}return function(){return t=n.apply(this,arguments),M.invert=t.invert&&Y,L()}}function et(n,t){return[n,te(ie((H+t)/2))]}et.invert=function(n,t){return[n,2*qt(ne(t))-H]};function Ye(){return Ge(et).scale(961/Z)}function Ge(n){var t=kt(n),i=t.center,e=t.scale,r=t.translate,u=t.clipExtent,f=null,l,g,d;t.scale=function(a){return arguments.length?(e(a),o()):e()},t.translate=function(a){return arguments.length?(r(a),o()):r()},t.center=function(a){return arguments.length?(i(a),o()):i()},t.clipExtent=function(a){return arguments.length?(a==null?f=l=g=d=null:(f=+a[0][0],l=+a[0][1],g=+a[1][0],d=+a[1][1]),o()):f==null?null:[[f,l],[g,d]]};function o(){var a=R*e(),c=t(oe(t.rotate()).invert([0,0]));return u(f==null?[[c[0]-a,c[1]-a],[c[0]+a,c[1]+a]]:n===et?[[Math.max(c[0]-a,f),l],[Math.min(c[0]+a,g),d]]:[[f,Math.max(c[1]-a,l)],[g,Math.min(c[1]+a,d)]])}return o()}function xt(n,t){var i=t*t,e=i*i;return[n*(.8707-.131979*i+e*(-.013791+e*(.003971*i-.001529*e))),t*(1.007226+i*(.015085+e*(-.044475+.028874*i-.005916*e)))]}xt.invert=function(n,t){var i=t,e=25,r;do{var u=i*i,f=u*u;i-=r=(i*(1.007226+u*(.015085+f*(-.044475+.028874*u-.005916*f)))-t)/(1.007226+u*(.015085*3+f*(-.044475*7+.028874*9*u-.005916*11*f)))}while(z(r)>A&&--e>0);return[n/(.8707+(u=i*i)*(-.131979+u*(-.013791+u*u*u*(.003971-.001529*u)))),i]};function He(){return kt(xt).scale(175.295)}const bn=({id:n,width:t,height:i,margins:e,className:r,containerClassName:u,markers:f,data:l,fill:g,projection:d="mercator"})=>{const o=Q.useCallback(({chartWidth:s,chartHeight:m})=>d==="natural-earth"?He().fitSize([s,m],l).center([0,0]):Ye().fitSize([s,m],l).center([0,35]),[l,d]),a=Q.useCallback((s,m,v)=>{const E=v(s.props.coordinates);return E?un(Qt,{element:s,cx:E[0],cy:E[1],index:m}):(console.warn(`Position for ${s.props.coordinates.toString()} not found.`),null)},[]),c=Q.useCallback((s,m,v)=>s.id==="010"?null:un("path",{d:v(s),fill:g},`path-${m}`),[g]),h=Q.useCallback(s=>{if(!l)return null;const m=o(s),v=Ce().projection(m);return Rt($t.g,{initial:{opacity:0},animate:{opacity:1},children:[l.features.map((E,S)=>c(E,S,v)),f&&f.map((E,S)=>un(Q.Fragment,{children:a(E,S,m)},`marker-${S}`))]})},[l,o,f,c,a]);return un(Wt,{id:n,width:t,height:i,margins:e,containerClassName:u,xAxisVisible:!1,yAxisVisible:!1,className:r,children:s=>h(s)})};bn.defaultProps={fill:"rgba(255, 255, 255, 0.3)"};try{bn.displayName="Map",bn.__docgenInfo={description:"",displayName:"Map",props:{markers:{defaultValue:null,description:"",name:"markers",required:!1,type:{name:"MarkerElement[]"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"any"}},fill:{defaultValue:{value:"rgba(255, 255, 255, 0.3)"},description:"",name:"fill",required:!1,type:{name:"string"}},projection:{defaultValue:{value:"mercator"},description:"Determines how the map transforms spherical geometry to planar geometry",name:"projection",required:!1,type:{name:"enum",value:[{value:'"mercator"'},{value:'"natural-earth"'}]}},id:{defaultValue:null,description:"Id of the chart.",name:"id",required:!1,type:{name:"string"}},width:{defaultValue:null,description:"Width of the chart. If not provided will autosize.",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"Height of the chart. If not provided will autosize.",name:"height",required:!1,type:{name:"number"}},margins:{defaultValue:null,description:"Margins for the chart.",name:"margins",required:!1,type:{name:"Margins"}},className:{defaultValue:null,description:"Classnames for the chart.",name:"className",required:!1,type:{name:"string"}},containerClassName:{defaultValue:null,description:"Classnames for the chart.",name:"containerClassName",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"Additional css styles.",name:"style",required:!1,type:{name:"StyleHTMLAttributes<SVGSVGElement>"}},center:{defaultValue:null,description:"Center the chart. Used mainly internally.",name:"center",required:!1,type:{name:"boolean"}},centerX:{defaultValue:null,description:"Center chart on X Axis only. Used mainly internally.",name:"centerX",required:!1,type:{name:"boolean"}},centerY:{defaultValue:null,description:"Center chart on Y Axis only. Used mainly internally.",name:"centerY",required:!1,type:{name:"boolean"}}}}}catch{}const Oe="_marker_agib4_1",Ze={marker:Oe},Be={offset:{offset:"0, 3px"}},Nt=({size:n=3,index:t,tooltip:i,cx:e,cy:r,onClick:u=()=>{}})=>{const f=Q.useRef(null),[l,g]=Q.useState(!1),d=Q.useMemo(()=>typeof i=="string"?i:"map marker",[i]);return Rt(Q.Fragment,{children:[un($t.circle,{initial:{opacity:0,scale:.02},animate:{opacity:1,scale:1},transition:{delay:t*.3},ref:f,className:Ze.marker,cx:e,cy:r,r:n,onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),onClick:u,tabIndex:0,"aria-label":d,role:"graphics-document"}),i&&un(Jt,{theme:Kt,visible:l,reference:f,modifiers:Be,content:i})]})};try{Nt.displayName="MapMarker",Nt.__docgenInfo={description:"",displayName:"MapMarker",props:{coordinates:{defaultValue:null,description:"",name:"coordinates",required:!1,type:{name:"[number, number]"}},index:{defaultValue:null,description:"",name:"index",required:!1,type:{name:"number"}},cy:{defaultValue:null,description:"",name:"cy",required:!1,type:{name:"number"}},cx:{defaultValue:null,description:"",name:"cx",required:!1,type:{name:"number"}},size:{defaultValue:{value:"3"},description:"",name:"size",required:!1,type:{name:"number"}},tooltip:{defaultValue:null,description:"",name:"tooltip",required:!1,type:{name:"any"}},onClick:{defaultValue:{value:"() => undefined"},description:"",name:"onClick",required:!1,type:{name:"() => void"}}}}}catch{}export{bn as M,Nt as a};
