import{j as s,a as G,F as le}from"./jsx-runtime-86dfebf6.js";import{r as i}from"./index-1b03fe98.js";import{b as ie,a as se}from"./builder-9833ba7e.js";import{c as oe,u as z}from"./chroma-699b8ba0.js";import{A as ue,B as de,C as ce,R as pe}from"./RadialAxis-6c2bc59c.js";import{u as me,k as fe,e as ae,D as te,g as H,G as he,l as ye,s as ge,T as be,b as ve,p as Ve,j as Re,h as qe}from"./schemes-56affe43.js";import{C as w}from"./rdk-0beed5d4.js";import{g as ee}from"./helper-26bacd48.js";import{g as Ce}from"./radial-c0f800e2.js";const O=({custom:e,transition:r,arc:n,...C})=>{const S=me(""),f=i.useRef(e.exit.y),y=fe(0,te);i.useEffect(()=>{const a=ue(f.current,e.enter.y),b=y.get();let v;r!=null&&r.delay?v=setTimeout(()=>{y.set(b+1)},r.delay*1e3):y.set(b+1);const q=y.onChange(l=>{f.current=a(l-b),S.set(n({...e.enter,y:f.current}))});return()=>{v&&clearTimeout(v),q()}},[n,e.enter,S,y,r.delay]);const{d:R,...g}=e.enter,{d:u,...d}=e.exit;return s(ae.path,{...C,initial:d,exit:d,animate:g,transition:r,d:r.type!==!1?S:R,tabIndex:0})};try{O.displayName="MotionBar",O.__docgenInfo={description:"",displayName:"MotionBar",props:{custom:{defaultValue:null,description:"",name:"custom",required:!0,type:{name:"any"}},transition:{defaultValue:null,description:"",name:"transition",required:!0,type:{name:"any"}},arc:{defaultValue:null,description:"",name:"arc",required:!0,type:{name:"any"}}}}}catch{}const k=({active:e,path:r,fill:n="#eee",opacity:C=.2})=>s(ae.path,{d:r,fill:n,pointerEvents:"none",initial:"hidden",animate:e?"visible":"hidden",variants:{hidden:{opacity:0},visible:{opacity:C}}});k.defaultProps={fill:"#eee",opacity:.2};try{k.displayName="RadialGuideBar",k.__docgenInfo={description:"",displayName:"RadialGuideBar",props:{active:{defaultValue:null,description:"",name:"active",required:!1,type:{name:"boolean"}},path:{defaultValue:null,description:"",name:"path",required:!1,type:{name:"string"}},fill:{defaultValue:{value:"#eee"},description:"",name:"fill",required:!1,type:{name:"string"}},opacity:{defaultValue:{value:"0.2"},description:"",name:"opacity",required:!1,type:{name:"number"}}}}}catch{}const Y=({animated:e,innerRadius:r,xScale:n,yScale:C,curved:S,id:f,gradient:y,barCount:R,innerBarCount:g,groupIndex:u,className:d,data:a,active:b,guide:v,index:q,color:l,onClick:c,onMouseEnter:p,onMouseLeave:h})=>{const t=i.useRef(null),m=l(a,q),E=b?oe(m).brighten(.5):m,o=i.useMemo(()=>e?{...te,delay:q/R*.9}:{type:!1,delay:0},[e,R,q]),A=i.useCallback(V=>y?`url(#${f}-gradient)`:V,[y,f]),D=i.useCallback(V=>{const x=C(V.y);if(S){const B=n(V.x),N=B+n.bandwidth();return de().innerRadius(r).outerRadius(x).startAngle(B).endAngle(N).padAngle(.01).padRadius(r)(V)}else{const B=u!==void 0,N=n.domain(),M=n.range(),$=Math.abs(M[1]-M[0])>=2*Math.PI;let _,P,I,T;$?(_=n.bandwidth(),P=B&&_?_/2:0,I=n(V.x)-Math.PI*.5-P,T=I+_):(_=H().domain(N).range(M).bandwidth(),P=B&&_?_/2:0,q===0?(I=n(V.x)-Math.PI*.5,T=I+_-P):q===R-1?(T=M[1]-Math.PI*.5,I=T-_+P):(I=n(V.x)-Math.PI*.5-P,T=I+_));const j=T-I,K=r*j/x,re=(j-K)/2,L=j/g,U=B?I+u*L:I,Q=B?U+L:T,ne=K/g,Z=B?(L-ne)/2:re,W=ce();return W.arc(0,0,r,U,Q),W.arc(0,0,x,Q-Z,U+Z,!0),W.toString()}},[R,S,u,q,g,r,n,C]),F=i.useCallback(V=>{const x=A(V),B=t.current?{...t.current}:void 0;t.current={...a};const[N,M]=C.domain(),$={...a,y:N},_=D({...a,y:M});return G(i.Fragment,{children:[v&&s(w,{element:v,active:b,path:_}),s(O,{arc:D,custom:{enter:a,exit:$,previousEnter:B},transition:o,fill:x,className:d,onMouseEnter:P=>p==null?void 0:p({value:a,nativeEvent:P}),onMouseLeave:P=>h==null?void 0:h({value:a,nativeEvent:P}),onClick:P=>c==null?void 0:c({value:a,nativeEvent:P})})]})},[b,d,a,D,A,v,c,p,h,o,C]);return G(i.Fragment,{children:[F(E),y&&s(he,{id:`${f}-gradient`,color:E})]})};Y.defaultProps={gradient:!0,curved:!1,guide:s(k,{}),onClick:()=>{},onMouseEnter:()=>{},onMouseLeave:()=>{}};try{Y.displayName="RadialBar",Y.__docgenInfo={description:"",displayName:"RadialBar",props:{data:{defaultValue:null,description:"Parsed data shape. Set internally by `RadialBarChart`.",name:"data",required:!1,type:{name:"ChartInternalShallowDataShape"}},innerRadius:{defaultValue:null,description:"The inner radius for the chart center.",name:"innerRadius",required:!1,type:{name:"number"}},index:{defaultValue:null,description:"Index of the element in the series. Set internally by `RadialBarSeries`.",name:"index",required:!1,type:{name:"number"}},animated:{defaultValue:null,description:"Whether the element is active or not. Set internally by `RadialBarSeries`.",name:"animated",required:!1,type:{name:"boolean"}},xScale:{defaultValue:null,description:"D3 scale for X Axis. Set internally by `RadialBarChart`.",name:"xScale",required:!1,type:{name:"any"}},yScale:{defaultValue:null,description:"D3 scale for Y Axis. Set internally by `RadialBarChart`.",name:"yScale",required:!1,type:{name:"any"}},color:{defaultValue:null,description:"Color of the bar.",name:"color",required:!1,type:{name:"any"}},gradient:{defaultValue:{value:"true"},description:"Whether to use gradient or not.",name:"gradient",required:!1,type:{name:"boolean"}},id:{defaultValue:null,description:"Id set internally by `RadialBarSeries`.",name:"id",required:!1,type:{name:"string"}},barCount:{defaultValue:null,description:"Total number of bars used for animation. Set internally by `RadialBarSeries`.",name:"barCount",required:!1,type:{name:"number"}},innerBarCount:{defaultValue:null,description:"Total number of nested bars inside each group. Set internally by `RadialBarSeries`.",name:"innerBarCount",required:!1,type:{name:"number"}},groupIndex:{defaultValue:null,description:"Index of the group. Set internally by `BarSeries`.",name:"groupIndex",required:!1,type:{name:"number"}},className:{defaultValue:null,description:"CSS classes to apply.",name:"className",required:!1,type:{name:"string"}},curved:{defaultValue:{value:"false"},description:"Whether the bar is curved or not.",name:"curved",required:!1,type:{name:"boolean"}},guide:{defaultValue:{value:"<RadialGuideBar />"},description:"Guide bar component.",name:"guide",required:!1,type:{name:"ReactElement<RadialGuideBarProps, FC<Partial<RadialGuideBarProps>>>"}},active:{defaultValue:null,description:"Active caused by hover.",name:"active",required:!1,type:{name:"boolean"}},onClick:{defaultValue:{value:"() => undefined"},description:"Event for when a symbol is clicked.",name:"onClick",required:!1,type:{name:"(event: any) => void"}},onMouseEnter:{defaultValue:{value:"() => undefined"},description:"Event for when the symbol has mouse enter.",name:"onMouseEnter",required:!1,type:{name:"(event: any) => void"}},onMouseLeave:{defaultValue:{value:"() => undefined"},description:"Event for when the symbol has mouse leave.",name:"onMouseLeave",required:!1,type:{name:"(event: any) => void"}}}}}catch{}const X=({data:e,id:r,innerRadius:n,outerRadius:C,xScale:S,yScale:f,height:y,width:R,tooltip:g,colorScheme:u,bar:d,animated:a,startAngle:b,endAngle:v,type:q,valueMarkers:l})=>{const[c,p]=i.useState(null),h=i.useMemo(()=>q==="grouped",[q]),t=i.useCallback((o,A,D,F,V)=>{const x=c&&e&&ye(c.x,o.x);return s(i.Fragment,{children:s(w,{element:d,id:`radialbar-${r}-${D}`,index:D,data:o,xScale:S,active:x,yScale:f,innerRadius:n,color:B=>ee({data:e,point:B,index:0,colorScheme:u}),barCount:F,innerBarCount:A,groupIndex:V,animated:a,startAngle:b,endAngle:v})},D)},[c,a,d,u,e,v,r,n,b,S,f]),m=i.useCallback((o,A,D,F)=>s(i.Fragment,{children:o.map((V,x)=>t(V,A,x,D,F))}),[t]),E=i.useCallback(()=>s(le,{children:(l==null?void 0:l.length)&&l.map(o=>s(w,{element:o,value:f(o.props.value)},o.key))}),[l,f]);return G(w,{element:g,xScale:S,yScale:f,data:e,height:y,width:R,isRadial:!0,innerRadius:n,outerRadius:C,onValueEnter:o=>p(o.value),onValueLeave:()=>p(null),color:(o,A)=>ee({data:e,point:o,index:A,colorScheme:u}),startAngle:b,endAngle:v,children:[h?e.map((o,A)=>s("g",{children:m(o.data,e.length,o.data.length,A)},`bar-group-${A}`)):m(e,1,e.length),E()]})};X.defaultProps={colorScheme:ge.cybertron[0],tooltip:s(be,{tooltip:s(ve,{followCursor:!0})}),bar:s(Y,{}),animated:!0,startAngle:0,endAngle:2*Math.PI,type:"standard"};try{X.displayName="RadialBarSeries",X.__docgenInfo={description:"",displayName:"RadialBarSeries",props:{data:{defaultValue:null,description:"Parsed data shape. Set internally by `RadialBarChart`.",name:"data",required:!1,type:{name:"ChartInternalDataShape[]"}},colorScheme:{defaultValue:{value:"schemes.cybertron[0]"},description:"Color scheme for the series.",name:"colorScheme",required:!1,type:{name:"ColorSchemeType"}},innerRadius:{defaultValue:null,description:"The inner radius for the chart center.",name:"innerRadius",required:!1,type:{name:"number"}},outerRadius:{defaultValue:null,description:"The outer radius for the chart center.",name:"outerRadius",required:!1,type:{name:"number"}},xScale:{defaultValue:null,description:"D3 scale for X Axis. Set internally by `RadialBarChart`.",name:"xScale",required:!1,type:{name:"any"}},yScale:{defaultValue:null,description:"D3 scale for Y Axis. Set internally by `RadialBarChart`.",name:"yScale",required:!1,type:{name:"any"}},id:{defaultValue:null,description:"Id set internally by `RadialBarChart`.",name:"id",required:!1,type:{name:"string"}},bar:{defaultValue:{value:"<RadialBar />"},description:"Bar that is rendered.",name:"bar",required:!1,type:{name:"ReactElement<RadialBarProps, FC<Partial<RadialBarProps>>>"}},animated:{defaultValue:{value:"true"},description:"Whether to animate the enter/update/exit.",name:"animated",required:!1,type:{name:"boolean"}},height:{defaultValue:null,description:"Height of the chart. Set internally by `RadialBarChart`.",name:"height",required:!1,type:{name:"number"}},width:{defaultValue:null,description:"Width of the chart. Set internally by `RadialBarChart`.",name:"width",required:!1,type:{name:"number"}},tooltip:{defaultValue:{value:"<TooltipArea tooltip={<ChartTooltip followCursor={true} />} />"},description:"Tooltip for the chart area.",name:"tooltip",required:!1,type:{name:"ReactElement<TooltipAreaProps, ForwardRefExoticComponent<Partial<TooltipAreaProps> & RefAttributes<any>>>"}},startAngle:{defaultValue:{value:"0"},description:"Start angle for the first value.",name:"startAngle",required:!1,type:{name:"number"}},endAngle:{defaultValue:{value:"2 * Math.PI"},description:"End angle for the last value.",name:"endAngle",required:!1,type:{name:"number"}},type:{defaultValue:{value:"standard"},description:"The type of the chart.",name:"type",required:!1,type:{name:"enum",value:[{value:'"standard"'},{value:'"grouped"'}]}},valueMarkers:{defaultValue:null,description:"Value markers line for the chart.",name:"valueMarkers",required:!1,type:{name:"ReactElement<RadialValueMarkerProps, FC<RadialValueMarkerProps>>[]"}}}}}catch{}const J=({id:e,width:r,height:n,margins:C,className:S,containerClassName:f,data:y,innerRadius:R,series:g,axis:u,startAngle:d,endAngle:a})=>{const b=i.useCallback(l=>{const c=Math.abs(a-d)>=2*Math.PI;let p;if((u==null?void 0:u.props.type)==="category"){const h=g.props.type==="grouped";let t;h?t=z(l,m=>m.data,m=>m.x):t=z(l,m=>m.x),c?p=H().range([0,2*Math.PI]).domain(t):p=Ve().range([d,a]).domain(t)}else{const h=z(l,t=>t.x);p=H().range([d,a]).domain(h)}return p},[u==null?void 0:u.props.type,a,g.props.type,d]),v=i.useCallback((l,c,p)=>{const h=g.props.type==="grouped";let t;h?t=ie(l,!0):t=se(l);const m=Re({data:t,scaled:!1}),E=Ce(c,p,m);return{xScale:b(t),yScale:E,newData:t}},[b,g.props.type]),q=i.useCallback(({chartWidth:l,chartHeight:c,id:p})=>{const h=Math.min(l,c)/2,{yScale:t,xScale:m,newData:E}=v(y,R,h);return G(i.Fragment,{children:[u&&s(w,{element:u,xScale:m,height:c,width:l,innerRadius:R,startAngle:d,endAngle:a}),s(w,{element:g,id:p,data:E,height:c,width:l,xScale:m,yScale:t,innerRadius:R,outerRadius:h,startAngle:d,endAngle:a})]})},[u,y,a,v,R,g,d]);return s(qe,{id:e,width:r,height:n,margins:C,xAxisVisible:!1,yAxisVisible:!1,center:!0,className:S,containerClassName:f,children:q})};J.defaultProps={innerRadius:10,margins:75,axis:s(pe,{}),series:s(X,{}),startAngle:0,endAngle:2*Math.PI};try{J.displayName="RadialBarChart",J.__docgenInfo={description:"",displayName:"RadialBarChart",props:{data:{defaultValue:null,description:"Data the chart will receive to render.",name:"data",required:!1,type:{name:"ChartDataShape[]"}},series:{defaultValue:{value:"<RadialBarSeries />"},description:"The series component that renders the bar components.",name:"series",required:!1,type:{name:"ReactElement<RadialBarSeriesProps, FC<Partial<RadialBarSeriesProps>>>"}},axis:{defaultValue:{value:"<RadialAxis />"},description:"The radial axis component for the chart.",name:"axis",required:!1,type:{name:"ReactElement<RadialAxisProps, FC<Partial<RadialAxisProps>>>"}},innerRadius:{defaultValue:{value:"10"},description:"The inner radius for the chart center.",name:"innerRadius",required:!1,type:{name:"number"}},startAngle:{defaultValue:{value:"0"},description:"Start angle for the first value.",name:"startAngle",required:!1,type:{name:"number"}},endAngle:{defaultValue:{value:"2 * Math.PI"},description:"End angle for the last value.",name:"endAngle",required:!1,type:{name:"number"}},id:{defaultValue:null,description:"Id of the chart.",name:"id",required:!1,type:{name:"string"}},width:{defaultValue:null,description:"Width of the chart. If not provided will autosize.",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"Height of the chart. If not provided will autosize.",name:"height",required:!1,type:{name:"number"}},margins:{defaultValue:{value:"75"},description:"Margins for the chart.",name:"margins",required:!1,type:{name:"Margins"}},className:{defaultValue:null,description:"Classnames for the chart.",name:"className",required:!1,type:{name:"string"}},containerClassName:{defaultValue:null,description:"Classnames for the chart.",name:"containerClassName",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"Additional css styles.",name:"style",required:!1,type:{name:"StyleHTMLAttributes<SVGSVGElement>"}},center:{defaultValue:null,description:"Center the chart. Used mainly internally.",name:"center",required:!1,type:{name:"boolean"}},centerX:{defaultValue:null,description:"Center chart on X Axis only. Used mainly internally.",name:"centerX",required:!1,type:{name:"boolean"}},centerY:{defaultValue:null,description:"Center chart on Y Axis only. Used mainly internally.",name:"centerY",required:!1,type:{name:"boolean"}}}}}catch{}export{J as R,X as a,Y as b,k as c};
