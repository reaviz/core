import{a as $,j as e}from"./jsx-runtime-86dfebf6.js";import{r as u}from"./index-1b03fe98.js";import{D as z,e as X,b as U,g as Y,h as W}from"./schemes-56affe43.js";import{b as j}from"./builder-9833ba7e.js";import{c as G,u as O}from"./chroma-699b8ba0.js";import"./RadialAxis-6c2bc59c.js";import{C as H}from"./rdk-0beed5d4.js";import{b as B,c as J,d as K,L as Q,a as Z,k as ee}from"./RadialValueMarker-7b3f8322.js";import{c as ae,i as R}from"./functions-234b1417.js";import{c as te}from"./index-256d607f.js";import{u as ne}from"./useHoverIntent-9f4f4ce5.js";import"./DiscreteLegendEntry-49610185.js";import"./SequentialLegend-1647127f.js";import{g as re}from"./range-163cdb4a.js";import"./Count-a38a1947.js";import{c as ie,a as le}from"./helper-26bacd48.js";const se="_cell_r3f8c_1",oe={cell:se},de={offset:{offset:"0, 3px"}},_=({rx:y,ry:L,cursor:c,tooltip:i,onClick:o,onMouseEnter:h,onMouseLeave:v,data:t,animated:C,cellIndex:S,cellCount:x,fill:m,stroke:V,symbol:b,x:n,y:a,style:l,className:p,...d})=>{const[g,r]=u.useState(!1),q=u.useRef(null),{pointerOut:f,pointerOver:s}=ne({onPointerOver:k=>{r(!0),h({value:t,nativeEvent:k})},onPointerOut:k=>{r(!1),v({value:t,nativeEvent:k})}}),P=k=>{o({value:t,nativeEvent:k})},T=u.useMemo(()=>({y:t.value,x:`${t.key} âˆ™ ${t.x}`,data:t}),[t]),w=u.useMemo(()=>C?{...z,delay:S/x*.005}:{type:!1,delay:0},[C,S,x]),A=ae({style:l,className:p},t),E=m==="transparent",I=g&&!E?G(V||m).brighten(1):V||m,M=u.useMemo(()=>re({...T,data:null}),[T]),F=u.useMemo(()=>b?b(t):null,[t,b]);return $(u.Fragment,{children:[e("g",{ref:q,children:F?e(X.g,{...d,fill:m,stroke:I,style:{...A.style,cursor:c},className:A==null?void 0:A.className,transform:`translate(${n}, ${a})`,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:w,onPointerOver:s,onPointerOut:f,onClick:P,tabIndex:0,"aria-label":M,role:"graphics-document",children:F}):e(X.rect,{...d,fill:m,stroke:I,x:n,y:a,rx:y,ry:L,style:{...A.style,cursor:c},className:te(oe.cell,A.className),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:w,onPointerOver:s,onPointerOut:f,onClick:P,tabIndex:0,"aria-label":M,role:"graphics-document"})}),i&&!i.props.disabled&&!E&&e(H,{element:i,visible:g,modifiers:i.props.modifiers||de,reference:q,value:T})]})};_.defaultProps={rx:2,ry:2,cursor:"auto",tooltip:e(U,{}),onClick:()=>{},onMouseEnter:()=>{},onMouseLeave:()=>{}};try{_.displayName="HeatmapCell",_.__docgenInfo={description:"",displayName:"HeatmapCell",props:{x:{defaultValue:null,description:"X Position set by `HeatmapSeries`.",name:"x",required:!1,type:{name:"number"}},y:{defaultValue:null,description:"Y Position set by `HeatmapSeries`.",name:"y",required:!1,type:{name:"number"}},rx:{defaultValue:{value:"2"},description:"rx SVG Attribute.",name:"rx",required:!1,type:{name:"number"}},ry:{defaultValue:{value:"2"},description:"ry SVG Attribute.",name:"ry",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"Height of cell set by `HeatmapSeries`.",name:"height",required:!1,type:{name:"number"}},width:{defaultValue:null,description:"Width of cell set by `HeatmapSeries`.",name:"width",required:!1,type:{name:"number"}},cellCount:{defaultValue:null,description:"Total count of cells set by `HeatmapSeries`.",name:"cellCount",required:!1,type:{name:"number"}},tooltip:{defaultValue:{value:"<ChartTooltip />"},description:"Tooltip component.",name:"tooltip",required:!1,type:{name:"ReactElement<ChartTooltipProps, FC<Partial<ChartTooltipProps>>>"}},fill:{defaultValue:null,description:"Fill color set by `HeatmapSeries`.",name:"fill",required:!1,type:{name:"string"}},stroke:{defaultValue:null,description:"Stroke color set by `HeatmapSeries`.",name:"stroke",required:!1,type:{name:"string"}},symbol:{defaultValue:null,description:"Symbol element to render.",name:"symbol",required:!1,type:{name:"(data: ChartInternalShallowDataShape) => ReactNode"}},data:{defaultValue:null,description:"Data object set by `Heatmap`.",name:"data",required:!1,type:{name:"ChartInternalShallowDataShape"}},animated:{defaultValue:null,description:"Whether cell is animated or not set by `HeatmapSeries`.",name:"animated",required:!1,type:{name:"boolean"}},cellIndex:{defaultValue:null,description:"Cell index set by `HeatmapSeries`.",name:"cellIndex",required:!1,type:{name:"number"}},cursor:{defaultValue:{value:"auto"},description:"Cursor style attribute.",name:"cursor",required:!1,type:{name:"string"}},onClick:{defaultValue:{value:"() => undefined"},description:"Event for when the bar is clicked.",name:"onClick",required:!1,type:{name:"(event: any) => void"}},onMouseEnter:{defaultValue:{value:"() => undefined"},description:"Event for when the bar has mouse enter.",name:"onMouseEnter",required:!1,type:{name:"(event: any) => void"}},onMouseLeave:{defaultValue:{value:"() => undefined"},description:"Event for when the bar has mouse leave.",name:"onMouseLeave",required:!1,type:{name:"(event: any) => void"}},className:{defaultValue:null,description:"Classnames to apply to the element.",name:"className",required:!1,type:{name:"any"}},style:{defaultValue:null,description:"CSS styles to apply to the element.",name:"style",required:!1,type:{name:"any"}}}}}catch{}const N=({animated:y,emptyColor:L,colorScheme:c,cell:i,xScale:o,yScale:h,data:v,id:t,selections:C})=>{const S=ie(v,c,L,C),x=h.bandwidth(),m=o.bandwidth(),V=[...h.domain(),...o.domain()].length,b=({row:n,cell:a,rowIndex:l,cellIndex:p,width:d,height:g,cellCount:r})=>{const q=o(n.key),f=h(a.x),s=le(a,S);return e(H,{element:i,animated:y,cellIndex:l+p,cellCount:r,x:q,y:f,fill:s==null?void 0:s.fill,stroke:s==null?void 0:s.stroke,width:d,height:g,data:a,style:s},`${t}-${l}-${p}`)};return e(u.Fragment,{children:v.map((n,a)=>n.data.map((l,p)=>b({height:x,width:m,cellCount:V,row:n,cell:l,rowIndex:a,cellIndex:p})))})};N.defaultProps={padding:.1,animated:!0,emptyColor:"rgba(200,200,200,0.08)",colorScheme:["rgba(28, 107, 86, 0.5)","#2da283"],cell:e(_,{})};try{N.displayName="HeatmapSeries",N.__docgenInfo={description:"",displayName:"HeatmapSeries",props:{padding:{defaultValue:{value:"0.1"},description:"Padding between cells.",name:"padding",required:!1,type:{name:"number"}},id:{defaultValue:null,description:"Id set by `Heatmap`.",name:"id",required:!1,type:{name:"string"}},data:{defaultValue:null,description:"Parsed data set by `Heatmap`.",name:"data",required:!1,type:{name:"ChartInternalNestedDataShape[]"}},xScale:{defaultValue:null,description:"D3 scale for X Axis. Set internally by `Heatmap`.",name:"xScale",required:!1,type:{name:"any"}},yScale:{defaultValue:null,description:"D3 scale for Y Axis. Set internally by `Heatmap`.",name:"yScale",required:!1,type:{name:"any"}},colorScheme:{defaultValue:{value:"['rgba(28, 107, 86, 0.5)', '#2da283']"},description:"Color scheme for the chart.",name:"colorScheme",required:!1,type:{name:"ColorSchemeType | ColorSchemeStyleArray"}},emptyColor:{defaultValue:{value:"rgba(200,200,200,0.08)"},description:"Color for the empty cell of the chart.",name:"emptyColor",required:!1,type:{name:"string"}},animated:{defaultValue:{value:"true"},description:"Whether the chart is animated or not.",name:"animated",required:!1,type:{name:"boolean"}},cell:{defaultValue:{value:"<HeatmapCell />"},description:"Cell component that will be rendered.",name:"cell",required:!1,type:{name:"ReactElement<HeatmapCellProps, FC<Partial<HeatmapCellProps>>>"}},selections:{defaultValue:null,description:"Selected cell(s) in active state",name:"selections",required:!1,type:{name:"any"}}}}}catch{}const D=({data:y,margins:L,series:c,yAxis:i,xAxis:o,secondaryAxis:h,id:v,width:t,height:C,className:S,containerClassName:x})=>{const m=u.useCallback((b,n)=>{const a=j(y),l=o.props.domain||O(a,r=>r.key),p=Y().range([0,n]).domain(l).paddingInner(c.props.padding||.1),d=i.props.domain||O(a,r=>r.data,r=>r.x);return{yScale:Y().domain(d).range([b,0]).paddingInner(c.props.padding||.1),xScale:p,data:a}},[y,o,i,c]),V=u.useCallback(b=>{const{chartWidth:n,chartHeight:a,updateAxes:l,id:p,chartSized:d}=b,{xScale:g,yScale:r,data:q}=m(a,n);return $(u.Fragment,{children:[e(H,{element:o,height:a,width:n,scale:g,visibility:d?"visible":"hidden",onDimensionsChange:f=>l("horizontal",f)}),e(H,{element:i,height:a,width:n,scale:r,visibility:d?"visible":"hidden",onDimensionsChange:f=>l("vertical",f)}),h&&h.map((f,s)=>e(H,{element:f,height:a,width:n,visibility:d?"visible":"hidden",onDimensionsChange:P=>l("horizontal",P)},s)),d&&e(H,{element:c,id:`heat-series-${p}`,data:q,xScale:g,yScale:r})]})},[m,h,c,o,i]);return e(W,{id:v,width:t,height:C,margins:L,containerClassName:x,xAxisVisible:R(o.props),yAxisVisible:R(i.props),className:S,children:V})};D.defaultProps={data:[],margins:10,series:e(N,{padding:.3}),yAxis:e(B,{type:"category",axisLine:null,tickSeries:e(J,{line:null,label:e(K,{padding:5})})}),xAxis:e(Q,{type:"category",axisLine:null,tickSeries:e(Z,{line:null,label:e(ee,{padding:5})})})};try{D.displayName="Heatmap",D.__docgenInfo={description:"",displayName:"Heatmap",props:{data:{defaultValue:{value:"[]"},description:"Data the chart will receive to render.",name:"data",required:!1,type:{name:"ChartNestedDataShape[]"}},series:{defaultValue:{value:"<HeatmapSeries padding={0.3} />"},description:"The series component that renders the cell components.",name:"series",required:!1,type:{name:"ReactElement<HeatmapSeriesProps, FC<Partial<HeatmapSeriesProps>>>"}},yAxis:{defaultValue:{value:`(
    <LinearYAxis
      type="category"
      axisLine={null}
      tickSeries={
        <LinearYAxisTickSeries
          line={null}
          label={<LinearYAxisTickLabel padding={5} />}
        />
      }
    />
  )`},description:"The linear axis component for the Y Axis of the chart.",name:"yAxis",required:!1,type:{name:"ReactElement<LinearAxisProps, FC<Partial<LinearAxisProps>>>"}},xAxis:{defaultValue:{value:`(
    <LinearXAxis
      type="category"
      axisLine={null}
      tickSeries={
        <LinearXAxisTickSeries
          line={null}
          label={<LinearXAxisTickLabel padding={5} />}
        />
      }
    />
  )`},description:"The linear axis component for the X Axis of the chart.",name:"xAxis",required:!1,type:{name:"ReactElement<LinearAxisProps, FC<Partial<LinearAxisProps>>>"}},secondaryAxis:{defaultValue:null,description:"Any secondary axis components. Useful for multi-axis charts.",name:"secondaryAxis",required:!1,type:{name:"ReactElement<LinearAxisProps, FC<Partial<LinearAxisProps>>>[]"}},id:{defaultValue:null,description:"Id of the chart.",name:"id",required:!1,type:{name:"string"}},width:{defaultValue:null,description:"Width of the chart. If not provided will autosize.",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"Height of the chart. If not provided will autosize.",name:"height",required:!1,type:{name:"number"}},margins:{defaultValue:{value:"10"},description:"Margins for the chart.",name:"margins",required:!1,type:{name:"Margins"}},className:{defaultValue:null,description:"Classnames for the chart.",name:"className",required:!1,type:{name:"string"}},containerClassName:{defaultValue:null,description:"Classnames for the chart.",name:"containerClassName",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"Additional css styles.",name:"style",required:!1,type:{name:"StyleHTMLAttributes<SVGSVGElement>"}},center:{defaultValue:null,description:"Center the chart. Used mainly internally.",name:"center",required:!1,type:{name:"boolean"}},centerX:{defaultValue:null,description:"Center chart on X Axis only. Used mainly internally.",name:"centerX",required:!1,type:{name:"boolean"}},centerY:{defaultValue:null,description:"Center chart on Y Axis only. Used mainly internally.",name:"centerY",required:!1,type:{name:"boolean"}}}}}catch{}export{D as H,N as a,_ as b};
