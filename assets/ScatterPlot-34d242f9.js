import{a as Z,j as a,F as W}from"./jsx-runtime-86dfebf6.js";import{r as n}from"./index-1b03fe98.js";import{c as B}from"./index-256d607f.js";import{a as H}from"./builder-9833ba7e.js";import"./chroma-699b8ba0.js";import"./RadialAxis-6c2bc59c.js";import{g as ee,j as te,L as ae,b as ne,G as re}from"./RadialValueMarker-7b3f8322.js";import{c as le,i as $}from"./functions-234b1417.js";import{C as b}from"./rdk-0beed5d4.js";import{D as ie,e as j,b as oe,s as se,h as ue}from"./schemes-56affe43.js";import{g as de}from"./helper-26bacd48.js";import{i as z}from"./index-9494de61.js";import{g as ce}from"./utils-83ce1bd4.js";import"./DiscreteLegendEntry-49610185.js";import"./SequentialLegend-1647127f.js";import{g as pe}from"./range-163cdb4a.js";import"./Count-a38a1947.js";const me="_inactive_jp2yc_1",he="_hidden_jp2yc_5",k={inactive:me,hidden:he},F=({symbol:d,index:h,id:g,data:e,xScale:C,yScale:i,active:o,tooltip:r,cursor:V,size:u,glow:w,color:v,animated:c,onClick:l,onMouseEnter:y,onMouseLeave:f,visible:p,...S})=>{const q=n.useRef(null),[G,T]=n.useState(!1),L=n.useMemo(()=>le(S,e),[S,e]),m=n.useMemo(()=>typeof u=="function"?u(e):u,[u,e]),M=n.useMemo(()=>d?d(e):null,[e,d]),N=n.useMemo(()=>c?{...ie,delay:h*.005}:{type:!1,delay:0},[h,c]),_=n.useMemo(()=>{let P=i(e.y1);if(i.bandwidth){const I=i.bandwidth();P=P+I/2}return{x:C(e.x),y:P}},[e,i]),t=n.useMemo(()=>{const[P]=i.domain();return{y:i(P),x:C(e.x)}},[e,i]),s=n.useMemo(()=>de({colorScheme:v,index:h,point:e}),[e,v,h]),A=`symbol-${g}-${z(`${e.id}`)}`,x=n.useMemo(()=>pe(e),[e]),D=p?p==null?void 0:p(e,h):o;return Z(n.Fragment,{children:[a("g",{ref:q,className:B({[k.inactive]:!o,[k.hidden]:!D}),onMouseEnter:()=>{T(!0),y(e)},onMouseLeave:()=>{T(!1),f(e)},onClick:()=>l(e),tabIndex:0,"aria-label":x,role:"graphics-document",children:d?a(j.g,{...L,initial:{translateX:t.x,translateY:t.y,opacity:0},animate:{translateX:_.x,translateY:_.y,opacity:1},exit:{translateX:t.x,translateY:t.y,opacity:0},transition:N,children:M},A):a(j.circle,{className:L.className,style:{...L.style,...ce({glow:w}),cursor:V},fill:s,initial:{cx:t.x,cy:t.y,r:m,opacity:0},animate:{cx:_.x,cy:_.y,opacity:1,r:m},exit:{cx:t.x,cy:t.y,r:m,opacity:0},transition:N},A)}),r&&!r.props.disabled&&a(b,{element:r,visible:G,reference:q,value:e})]})};F.defaultProps={active:!0,tooltip:a(oe,{}),cursor:"pointer",size:4,color:se.cybertron[0],animated:!0,onClick:()=>{},onMouseEnter:()=>{},onMouseLeave:()=>{}};try{F.displayName="ScatterPoint",F.__docgenInfo={description:"",displayName:"ScatterPoint",props:{active:{defaultValue:{value:"true"},description:"Whether the element is active or not. Set internally by `ScatterSeries`.",name:"active",required:!1,type:{name:"boolean"}},size:{defaultValue:{value:"4"},description:"Size of the circle element.",name:"size",required:!1,type:{name:"number | ((data: ChartInternalShallowDataShape) => number)"}},color:{defaultValue:{value:"schemes.cybertron[0]"},description:"Color of the circle.",name:"color",required:!1,type:{name:"ColorSchemeType"}},cursor:{defaultValue:{value:"pointer"},description:"Cursor for the element.",name:"cursor",required:!1,type:{name:"string"}},xScale:{defaultValue:null,description:"D3 scale for X Axis. Set internally by `ScatterPlot`.",name:"xScale",required:!1,type:{name:"any"}},yScale:{defaultValue:null,description:"D3 scale for Y Axis. Set internally by `ScatterPlot`.",name:"yScale",required:!1,type:{name:"any"}},height:{defaultValue:null,description:"Height of the chart. Set internally by `ScatterPlot`.",name:"height",required:!1,type:{name:"number"}},animated:{defaultValue:{value:"true"},description:"Whether to animate the enter/update/exit. Set internally by `ScatterSeries`.",name:"animated",required:!1,type:{name:"boolean"}},index:{defaultValue:null,description:"Index of the element in the series. Set internally by `ScatterSeries`.",name:"index",required:!1,type:{name:"number"}},tooltip:{defaultValue:{value:"<ChartTooltip />"},description:"Tooltip element.",name:"tooltip",required:!1,type:{name:"ReactElement<ChartTooltipProps, FC<Partial<ChartTooltipProps>>>"}},data:{defaultValue:null,description:"Parsed data shape. Set internally by `ScatterPlot`.",name:"data",required:!1,type:{name:"ChartInternalShallowDataShape"}},id:{defaultValue:null,description:"Id set internally by `ScatterPlot`.",name:"id",required:!1,type:{name:"string"}},glow:{defaultValue:null,description:"Glow styling for the point.",name:"glow",required:!1,type:{name:"Glow"}},symbol:{defaultValue:null,description:"Symbol element to render.",name:"symbol",required:!1,type:{name:"(data: ChartInternalShallowDataShape) => ReactNode"}},visible:{defaultValue:null,description:"Whether the elment is visiblbe or not.",name:"visible",required:!1,type:{name:"(data: ChartInternalShallowDataShape, index: number) => boolean"}},onClick:{defaultValue:{value:"() => undefined"},description:"Event for when a symbol is clicked.",name:"onClick",required:!1,type:{name:"(data: ChartInternalShallowDataShape) => void"}},onMouseEnter:{defaultValue:{value:"() => undefined"},description:"Event for when the symbol has mouse enter.",name:"onMouseEnter",required:!1,type:{name:"(data: ChartInternalShallowDataShape) => void"}},onMouseLeave:{defaultValue:{value:"() => undefined"},description:"Event for when the symbol has mouse leave.",name:"onMouseLeave",required:!1,type:{name:"(data: ChartInternalShallowDataShape) => void"}},className:{defaultValue:null,description:"Classnames to apply to the element.",name:"className",required:!1,type:{name:"any"}},style:{defaultValue:null,description:"CSS styles to apply to the element.",name:"style",required:!1,type:{name:"any"}}}}}catch{}const X=25,U=X/2,R=({data:d,height:h,width:g,id:e,isZoomed:C,activeIds:i,point:o,valueMarkers:r,xScale:V,yScale:u,...w})=>{const v=n.useCallback((l,y)=>{let f;l.id&&(f=l.id);const p=z(`${f||y}`),S=!(i&&i.length)||i.includes(f);return a(b,{element:o,xScale:V,yScale:u,...w,id:e,data:l,index:y,active:S},p)},[i,o,u,w,e]),c=n.useCallback(()=>a(W,{children:(r==null?void 0:r.length)&&r.map(l=>{var S;const y=((S=l==null?void 0:l.props)==null?void 0:S.direction)==="vertical",f=y?h:g,p=y?V(l.props.value):u(l.props.value);return a(b,{element:l,size:f,value:p},l.key)})}),[r,g,u]);return Z(n.Fragment,{children:[a("defs",{children:a("clipPath",{id:`${e}-path`,children:a("rect",{width:C?g:g+X,height:h+X,x:C?0:-U,y:-U})})}),c(),a("g",{clipPath:`url(#${e}-path)`,children:d.map(v)})]})};R.defaultProps={point:a(F,{})};try{R.displayName="ScatterSeries",R.__docgenInfo={description:"",displayName:"ScatterSeries",props:{point:{defaultValue:{value:"<ScatterPoint />"},description:"Point that is rendered.",name:"point",required:!1,type:{name:"ReactElement<ScatterPointProps, FC<Partial<ScatterPointProps>>>"}},xScale:{defaultValue:null,description:"D3 scale for X Axis. Set internally by `ScatterPlot`.",name:"xScale",required:!1,type:{name:"any"}},yScale:{defaultValue:null,description:"D3 scale for Y Axis. Set internally by `ScatterPlot`.",name:"yScale",required:!1,type:{name:"any"}},data:{defaultValue:null,description:"Parsed data shape. Set internally by `ScatterPlot`.",name:"data",required:!1,type:{name:"ChartInternalShallowDataShape[]"}},id:{defaultValue:null,description:"Id set internally by `ScatterPlot`.",name:"id",required:!1,type:{name:"string"}},height:{defaultValue:null,description:"Height of the chart. Set internally by `ScatterPlot`.",name:"height",required:!1,type:{name:"number"}},width:{defaultValue:null,description:"Width of the chart. Set internally by `ScatterPlot`.",name:"width",required:!1,type:{name:"number"}},isZoomed:{defaultValue:null,description:"Whether the chart has been zoomed or not. Set internally by `ScatterPlot`.",name:"isZoomed",required:!1,type:{name:"boolean"}},animated:{defaultValue:null,description:"Whether to animate the enter/update/exit.",name:"animated",required:!1,type:{name:"boolean"}},activeIds:{defaultValue:null,description:"Active element ids to highlight.",name:"activeIds",required:!1,type:{name:"string[]"}},valueMarkers:{defaultValue:null,description:"Value markers line for the chart.",name:"valueMarkers",required:!1,type:{name:"ReactElement<LinearValueMarkerProps, FC<LinearValueMarkerProps>>[]"}}}}}catch{}const ye="_scatterPlot_gc5eo_1",fe={scatterPlot:ye},Y=({id:d,width:h,height:g,margins:e,className:C,series:i,xAxis:o,yAxis:r,data:V,gridlines:u,containerClassName:w,brush:v,zoomPan:c,secondaryAxis:l})=>{const y=n.useMemo(()=>{var t,s;return!((s=(t=c==null?void 0:c.props)==null?void 0:t.domain)!=null&&s.hasOwnProperty("domain"))},[c]),f=n.useRef(null),[p,S]=n.useState(!1),[q,G]=n.useState(null),[T,L]=n.useState(!1),m=n.useMemo(()=>H(V),[V]),M=n.useCallback((t,s)=>{const A=ee({roundDomains:r.props.roundDomains,type:r.props.type,height:t,data:m,domain:r.props.domain}),x=te({width:s,type:o.props.type,roundDomains:o.props.roundDomains,data:m,domain:q||o.props.domain});return{yScale:A,xScale:x}},[r,o,m,q]),N=n.useCallback(t=>{y&&(S(!0),G(t.domain),L(t.isZoomed),clearTimeout(f.current),f.current=setTimeout(()=>S(!0),500))},[y]),_=n.useCallback(({chartHeight:t,chartWidth:s,id:A,updateAxes:x,chartSized:D})=>{const{yScale:P,xScale:I}=M(t,s),O=p===!0?!1:i.props.animated,J=m.length<=1;return Z(n.Fragment,{children:[D&&u&&a(b,{element:u,height:t,width:s,yScale:P,xScale:I,yAxis:r.props,xAxis:o.props}),a(b,{element:o,height:t,width:s,scale:I,visibility:D?"visible":"hidden",onDimensionsChange:E=>x("horizontal",E)}),a(b,{element:r,height:t,width:s,scale:P,visibility:D?"visible":"hidden",onDimensionsChange:E=>x("vertical",E)}),l&&l.map((E,K)=>a(b,{element:E,height:t,width:s,visibility:D?"visible":"hidden",onDimensionsChange:Q=>x("horizontal",Q)},K)),D&&a(b,{disabled:J,element:v,height:t,width:s,scale:I,children:a(b,{element:c,onZoomPan:N,height:t,width:s,axisType:o.props.type,roundDomains:o.props.roundDomains,data:m,domain:q,children:a(b,{element:i,id:`area-series-${A}`,data:m,height:t,width:s,yScale:P,xScale:I,isZoomed:T,animated:O})})})]})},[M,p,i,u,r,o,l,v,c,N,m,q,T]);return a(ue,{id:d,width:h,height:g,containerClassName:w,margins:e,xAxisVisible:$(o.props),yAxisVisible:$(r.props),className:B(fe.scatterPlot,C),children:_})};Y.defaultProps={data:[],xAxis:a(ae,{type:"time"}),yAxis:a(ne,{type:"value"}),series:a(R,{}),gridlines:a(re,{}),brush:null,zoomPan:null};try{Y.displayName="ScatterPlot",Y.__docgenInfo={description:"",displayName:"ScatterPlot",props:{data:{defaultValue:{value:"[]"},description:"Data the chart will receive to render.",name:"data",required:!1,type:{name:"ChartShallowDataShape<ChartDataTypes | [ChartDataTypes, ChartDataTypes]>[]"}},series:{defaultValue:{value:"<ScatterSeries />"},description:"The series component that renders the scatter components.",name:"series",required:!1,type:{name:"ReactElement<ScatterSeriesProps, FC<Partial<ScatterSeriesProps>>>"}},yAxis:{defaultValue:{value:'<LinearYAxis type="value" />'},description:"The linear axis component for the Y Axis of the chart.",name:"yAxis",required:!1,type:{name:"ReactElement<LinearAxisProps, FC<Partial<LinearAxisProps>>>"}},xAxis:{defaultValue:{value:'<LinearXAxis type="time" />'},description:"The linear axis component for the X Axis of the chart.",name:"xAxis",required:!1,type:{name:"ReactElement<LinearAxisProps, FC<Partial<LinearAxisProps>>>"}},gridlines:{defaultValue:{value:"<GridlineSeries />"},description:"The chart's background gridlines component.",name:"gridlines",required:!1,type:{name:"ReactElement<GridlineSeriesProps, FC<Partial<GridlineSeriesProps>>>"}},brush:{defaultValue:{value:"null"},description:"The chart's brush component.",name:"brush",required:!1,type:{name:"ReactElement<ChartBrushProps, FC<Partial<ChartBrushProps>>>"}},zoomPan:{defaultValue:{value:"null"},description:"The chart's zoom pan component.",name:"zoomPan",required:!1,type:{name:"ReactElement<ChartZoomPanProps, FC<Partial<ChartZoomPanProps>>>"}},secondaryAxis:{defaultValue:null,description:"Any secondary axis components. Useful for multi-axis charts.",name:"secondaryAxis",required:!1,type:{name:"ReactElement<LinearAxisProps, FC<Partial<LinearAxisProps>>>[]"}},id:{defaultValue:null,description:"Id of the chart.",name:"id",required:!1,type:{name:"string"}},width:{defaultValue:null,description:"Width of the chart. If not provided will autosize.",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"Height of the chart. If not provided will autosize.",name:"height",required:!1,type:{name:"number"}},margins:{defaultValue:null,description:"Margins for the chart.",name:"margins",required:!1,type:{name:"Margins"}},className:{defaultValue:null,description:"Classnames for the chart.",name:"className",required:!1,type:{name:"string"}},containerClassName:{defaultValue:null,description:"Classnames for the chart.",name:"containerClassName",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"Additional css styles.",name:"style",required:!1,type:{name:"StyleHTMLAttributes<SVGSVGElement>"}},center:{defaultValue:null,description:"Center the chart. Used mainly internally.",name:"center",required:!1,type:{name:"boolean"}},centerX:{defaultValue:null,description:"Center chart on X Axis only. Used mainly internally.",name:"centerX",required:!1,type:{name:"boolean"}},centerY:{defaultValue:null,description:"Center chart on Y Axis only. Used mainly internally.",name:"centerY",required:!1,type:{name:"boolean"}}}}}catch{}export{Y as S,R as a,F as b};
